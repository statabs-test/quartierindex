{"version":3,"sources":["assets/welcome.jpg","state/indicator/types.ts","state/indicator/selectors.ts","state/indicator/constants.ts","state/indicator/actions.ts","component/selection/IndicatorSelectionGroup.tsx","component/customElements/NavButton.tsx","component/navigation/SelectionNavigation.tsx","component/layout/WizardLayout.tsx","state/util/constants.ts","state/util/actions.ts","state/util/selectors.ts","component/disclaimer/Disclaimer.tsx","page/welcome.tsx","page/IndicatorSelection.tsx","helpers/index.ts","component/selection/IndicatorRatingLine.tsx","component/navigation/RatingNavigation.tsx","page/IndicatorRating.tsx","component/customElements/Tooltip.tsx","component/selection/IndicatorImportanceLine.tsx","component/navigation/WeightNavigation.tsx","page/IndicatorWeight.tsx","state/district/selectors.ts","state/observation/selectors.ts","component/barplot/DistrictLabel.tsx","component/barplot/AnimatePosition.tsx","component/barplot/DistricRankingTooltip.tsx","component/barplot/util.ts","component/barplot/DistrictRanking.tsx","component/navigation/MainNavigation.tsx","component/parallelLinePlot/legend/LegendItem.tsx","component/parallelLinePlot/legend/Legend.tsx","state/district/constants.ts","component/barplot/IndicatorTooltip.tsx","component/barplot/IndicatorPlot.tsx","component/barplot/EmptyIndicatorPlot.tsx","component/parallelLinePlot/ChartContainer.tsx","state/district/actions.ts","component/parallelLinePlot/IndicatorRanking.tsx","page/MainView.tsx","App.tsx","state/indicator/reducer.ts","state/district/reducer.ts","state/observation/constants.ts","state/observation/reducer.ts","state/util/reducer.ts","state/index.ts","theme/theme.ts","index.tsx"],"names":["module","exports","__webpack_require__","p","NegativePositive","WeightNumber","select","state","indicator","allIndicators","_","byId","getIndicator","props","id","getGroupedIndicators","subject","getSelectedIndicators","selectedIndicatorIndexes","orderedBySelection","selectedId","getChoosableIndicators","filter","selected","INDICATOR_UPDATE","INDICATOR_SELECT","INDICATOR_VALUATION","INDICATOR_WEIGHT","INDICATOR_GROUP_SELECTION","REPLACE_SELECTED_INDICATOR","selectIndicator","type","constants","payload","deselectIndicator","setPositiveValuation","valuation","Positive","setNegativeValuation","Negative","setWeight","weight","mapDispatchToProps","deselect","toggleGroup","compose","connect","value","groupName","groupSelectedCount","length","react","className","map","key","name","checked","onChange","e","target","label","getToggleLabel","styleEnabledButton","backgroundColor","border","borderRadius","boxShadow","color","textTransform","styleDisabledButton","NavButton","_ref","to","children","rest","Object","objectWithoutProperties","index_es","assign","component","b","Link","c","style","disabled","SelectionNavigation","valid","container","justify","item","xs","customElements_NavButton","variant","isValid","ignoreRedirect","Redirect","TOGGLE_SELECT_INDICATOR_VISIBILITY","DISABLE_DISCLAIMER","toggleIndicatorSelectionVisibility","currentVisibility","visible","getShowDisclaimer","util","showDisclaimer","disableDisclaimer","onClick","Icon_default","a","welcome","text","src","welcomeImage","withStyles","theme","createStyles","root","flexGrow","paddingTop","paddingBottom","marginTop","spacing","unit","paddingLeft","title","padding","groupedIndicators","numIndicators","sum","indicatorGroup","layout_WizardLayout","selection_IndicatorSelectionGroup","navigation_SelectionNavigation","disclaimer_Disclaimer","getColor","positive","borderColor","getClassNameSelectedUnselected","buttonType","getClassNameNegPosBorder","labels","convertDecimalPoint","num","toString","replace","positiveValuation","negativeValuation","selectedIndicators","valuationText","paddingRight","RatingNavigation","toggleVisibility","selection_IndicatorRatingLine","description","navigation_RatingNavigation","tooltipStyle","fontWeight","tooltipTitleStyle","Tooltip","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","displayTooltip","hideTooltip","bind","assertThisInitialized","showTooltip","setState","_this$props","onMouseLeave","onMouseOver","React","setIndicatorWeight","&$checked","textAlign","leftIcon","marginRight","marginBottom","textCentered","display","sizeIcon","fontSize","ownProps","objectSpread","classes","indexPrefix","weightText","indexOf","split","prefix","substring","suffixIndex","suffix","Grid_default","alignItems","customElements_Tooltip","ONE","TWO","THREE","FOUR","idx","FormLabel_default","htmlFor","WeightNavigation","selection_IndicatorImportanceLine","navigation_WeightNavigation","district","allDistricts","allDistrictsById","getDistrictBy","districtId","success","pop","ReferenceError","getAllObservations","observation","groupObservationsByDistrict","createSelector","observations","getWeightedAverageValue","cnt","total","result","indicatorId","normValue","getAverageValue","getGlobalRanking","groupedByDistrict","selectedIndicator","getSortedGlobalRanking","globalRanking","reverse","makeGetIndicatorRanking","sortedRanking","rankings","Math","abs","ranking","getLineRanking","rank","green","h","s","v","red","objectId","labelText","rankValue","highlighted","viewOptions","highlight","hover","toLineRank","DistrictLabel","x","y","width","height","xNew","substr","yNew","react_default","createElement","fill","textAnchor","trim","AnimatePosition","web","config","gentle","precision","velocity","DistrictRankingTooltip","borderStyle","borderWidth","rankName","includes","slice","join","active","getStyle","viewBox","position","zIndex","rx","ry","stroke","strokeWidth","transform","getDistrictName","getBaseTicks","minMax","min","max","getDecimals","n","nAsString","charAt","decimal","decimals","minDecimal","maxDecimal","getSmallerDecimal","minTick","maxTick","diff","offset","pow","valueOf","toFixed","Number","withMiddleTick","roundingErrorCorrection","getMinMax","data","values","d","apply","toConsumableArray","DistrictRanking","positions","_this2","districts","ranks","indicators","rankNum","i","concat","round","reduce","accu","entry","defineProperty","getRankPosition","positionsBefore","ticks","getTicks","domain","asDomain","barplot_AnimatePosition","from","onRest","isEqual","BarChart","layout","CartesianGrid","XAxis","axisLine","interval","tickLine","tickFormatter","tick","component_Tooltip","offsetX","offsetY","content","DistricRankingTooltip","YAxis","dataKey","orientation","Label","Bar","index","Cell","undefined","replaceIndicator","selectId","replaceId","selectEmptyIndicator","choosableIndicators","sliderStyle","minHeight","event","indic","direction","getLabelBy","rc_slider_es","step","marks","0.25","0.5","0.75","1","activeDotStyle","trackStyle","handleStyle","legend_LegendItem","DISTRICT_HIGHLIGHT","DISTRICT_HIDE","DISTRICT_ON_HOVER","DISTRICT_OFF_HOVER","getParagraphStyle","top","margin","size","yearText","IndicatorTooltip","getDistrictByName","getObservation","getRectStyle","value_txt","getObservationText","getIndicatorRanking","barplot_IndicatorTooltip","hide","EmptyIndicatorPlot","objectDestructuringEmpty","highlightDistrict","hideDistrict","onHover","offHover","lineRanking","barplot_IndicatorPlot","barplot_EmptyIndicatorPlot","barPlot","additionalColumns","es_Redirect","legend_Legend","parallelLinePlot_ChartContainer","MainNavigation","parallelLinePlot_IndicatorRanking","barplot_DistrictRanking","App","Route","exact","path","IndicatorSelection","IndicatorRating","IndicatorImportance","MainView","indicatorData","require","arrayToObjectById","array","obj","updateOrderedListById","newId","oldId","addIdToOrderedListById","idToRemove","removeIdFromOrderedListById","updetOrderedListBySelectedGroup","onlyNewEntries","ids","districtData","observationData","utilData","rootReducer","combineReducers","arguments","action","toGroupIndicator","indicat","toggledIndicators","_objectSpread7","selectIndicatorConf","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","createMuiTheme","palette","primary","teal","secondary","overrides","MuiFormLabel","MuiFormControlLabel","MuiTooltip","tooltip","tooltipPlacementTop","typography","useNextVariants","ReactDOM","es","HashRouter","MuiThemeProvider_default","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.ed03b882.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/welcome.14e2335c.jpg\";","export enum NegativePositive {\r\n  Negative = -1,\r\n  Positive = 1,\r\n}\r\n\r\nexport enum WeightNumber {\r\n    ONE = 0.25,\r\n    TWO = 0.5,\r\n    THREE = 0.75,\r\n    FOUR = 1\r\n}\r\n\r\nexport interface Indicator {\r\n    readonly id: string\r\n    readonly name: string\r\n    readonly subject: string\r\n    readonly publication: string\r\n    readonly year: string\r\n    readonly yearText: string\r\n    readonly selected?: boolean\r\n    readonly valuation: NegativePositive\r\n    readonly valuationText: string\r\n    readonly weight: WeightNumber\r\n    readonly weightText: string\r\n    readonly description: string\r\n}\r\n\r\nexport interface IndicatorState {\r\n    readonly byId: {\r\n        readonly [key: string]: Indicator\r\n    }\r\n\r\n    readonly orderedBySelection: string[]\r\n}","import * as _ from 'lodash'\r\nimport { Rootstate } from '../index'\r\nimport { Indicator } from './types'\r\n// import { indicator } from './reducer';\r\n\r\nconst select = (state: Rootstate) => {\r\n  return state.indicator\r\n}\r\n\r\n/**\r\n * Selects all existing indicator\r\n */\r\nexport const allIndicators = (state: Rootstate): Indicator[] => {\r\n  return _.values(select(state).byId)\r\n}\r\n\r\nexport const getIndicator = (state: Rootstate, props: { id: string }): Indicator => {\r\n  return select(state).byId[props.id]\r\n}\r\n\r\nexport const getGroupedIndicators = (state: Rootstate): { [key: string]: Indicator[] } => {\r\n  return _.groupBy(_.sortBy(allIndicators(state), 'name'), indicator => indicator.subject)\r\n}\r\n\r\n/**\r\n * SelectIndicator all selected indicator\r\n */\r\nexport const getSelectedIndicators = (state: Rootstate): Indicator[] => {\r\n  const selectedIndicatorIndexes = state.indicator.orderedBySelection\r\n  return _.map(selectedIndicatorIndexes, selectedId => {\r\n    return state.indicator.byId[selectedId]\r\n  })\r\n}\r\n\r\n/**\r\n * Get choosable indicators (Selector for dropdown in diagram)\r\n */\r\nexport const getChoosableIndicators = (state: Rootstate): Indicator[] => {\r\n  const indicators = allIndicators(state)\r\n  return indicators.filter(indicator => !indicator.selected)\r\n}\r\n","export const INDICATOR_UPDATE = 'indicator/UPDATE'\r\nexport type INDICATOR_UPDATE = typeof INDICATOR_UPDATE\r\n\r\nexport const INDICATOR_SELECT = 'indicator/SELECT'\r\nexport type INDICATOR_SELECT = typeof INDICATOR_SELECT\r\n\r\nexport const INDICATOR_VALUATION = 'indicator/VALUATION'\r\nexport type INDICATOR_VALUATION = typeof INDICATOR_VALUATION\r\n\r\nexport const INDICATOR_WEIGHT = 'indicator/WEIGHT'\r\nexport type INDICATOR_WEIGHT = typeof INDICATOR_WEIGHT\r\n\r\nexport const INDICATOR_GROUP_SELECTION = 'indicator/GROUP_SELECT'\r\nexport type INDICATOR_GROUP_SELECTION = typeof INDICATOR_GROUP_SELECTION\r\n\r\nexport const REPLACE_SELECTED_INDICATOR = 'indicator/REPLACE_SELECTED_INDICATOR'\r\nexport type REPLACE_SELECTED_INDICATOR = typeof REPLACE_SELECTED_INDICATOR\r\n","import * as constants from './constants'\r\nimport { NegativePositive, WeightNumber } from './types'\r\n\r\n/** Combine the three interfaces to one action */\r\nexport type IndicatorAction =\r\n  | IndicatorSelection\r\n  | IndicatorUpdate\r\n  | SetValuation\r\n  | SetWeight\r\n  | IndicatorGroupToggle\r\n  | ReplaceSelectedIndicator\r\n\r\n/**\r\n * SelectIndicator or deselect indicator interface with payload\r\n */\r\nexport interface IndicatorSelection {\r\n  type: constants.INDICATOR_SELECT\r\n  payload: {\r\n    id: string\r\n    selected: boolean\r\n  }\r\n}\r\n\r\nexport interface IndicatorUpdate {\r\n  type: constants.INDICATOR_UPDATE\r\n  payload: {\r\n    id: string\r\n    selected: boolean\r\n    valuation: NegativePositive\r\n    weight: WeightNumber\r\n  }\r\n}\r\n\r\nexport interface SetValuation {\r\n  type: constants.INDICATOR_VALUATION\r\n  payload: {\r\n    id: string\r\n    valuation: NegativePositive\r\n  }\r\n}\r\n\r\nexport interface SetWeight {\r\n  type: constants.INDICATOR_WEIGHT\r\n  payload: {\r\n    id: string\r\n    weight: WeightNumber\r\n  }\r\n}\r\n\r\nexport interface IndicatorGroupToggle {\r\n  type: constants.INDICATOR_GROUP_SELECTION\r\n  payload: {\r\n    subject: string\r\n    selected: boolean\r\n  }\r\n}\r\n\r\nexport interface ReplaceSelectedIndicator {\r\n  type: constants.REPLACE_SELECTED_INDICATOR\r\n  payload: {\r\n    replaceId: string\r\n    selectId: string\r\n  }\r\n}\r\n\r\n/**\r\n * SelectIndicator indicator for ranking\r\n * @param {string} id of indicator\r\n * @returns {IndicatorSelection}\r\n */\r\nexport function selectIndicator(id: string): IndicatorSelection {\r\n  return {\r\n    type: constants.INDICATOR_SELECT,\r\n    payload: {\r\n      id,\r\n      selected: true,\r\n    },\r\n  }\r\n}\r\n\r\n/**\r\n * SelectIndicator indicator for ranking\r\n * @param {string} id of indicator\r\n * @returns {IndicatorSelection}\r\n */\r\nexport function deselectIndicator(id: string): IndicatorSelection {\r\n  return {\r\n    type: constants.INDICATOR_SELECT,\r\n    payload: {\r\n      id,\r\n      selected: false,\r\n    },\r\n  }\r\n}\r\n\r\n/**\r\n * Set positiv valuation for ranking\r\n * @param {string} id of indicator\r\n * @returns {SetValuation}\r\n */\r\nexport function setPositiveValuation(id: string): SetValuation {\r\n  return {\r\n    type: constants.INDICATOR_VALUATION,\r\n    payload: {\r\n      id,\r\n      valuation: NegativePositive.Positive,\r\n    },\r\n  }\r\n}\r\n\r\n/**\r\n * Set negative valuation for ranking\r\n * @param {string} id of indicator\r\n * @returns {SetValuation}\r\n */\r\nexport function setNegativeValuation(id: string): SetValuation {\r\n  return {\r\n    type: constants.INDICATOR_VALUATION,\r\n    payload: {\r\n      id,\r\n      valuation: NegativePositive.Negative,\r\n    },\r\n  }\r\n}\r\n\r\nexport function setWeight(id: string, weight: WeightNumber): SetWeight {\r\n  return {\r\n    type: constants.INDICATOR_WEIGHT,\r\n    payload: {\r\n      id,\r\n      weight: weight,\r\n    },\r\n  }\r\n}\r\n\r\n/**\r\n * Select all indicators of subject\r\n * @param subject of indicator group\r\n * @param selected if the group should be selected, or deselected\r\n */\r\nexport function toggleGroupIndicators(subject: string, selected: boolean): IndicatorGroupToggle {\r\n  return {\r\n    type: constants.INDICATOR_GROUP_SELECTION,\r\n    payload: {\r\n      subject,\r\n      selected,\r\n    },\r\n  }\r\n}\r\n\r\nexport function replaceIndicatorWith(\r\n  selectId: string,\r\n  replaceId: string\r\n): ReplaceSelectedIndicator {\r\n  return {\r\n    type: constants.REPLACE_SELECTED_INDICATOR,\r\n    payload: {\r\n      selectId,\r\n      replaceId,\r\n    },\r\n  }\r\n}\r\n","import * as React from 'react'\r\nimport * as _ from 'lodash'\r\nimport { connect } from 'react-redux'\r\nimport { compose } from 'recompose'\r\nimport { Rootstate } from '../../state/index'\r\nimport { Indicator } from '../../state/indicator/types'\r\nimport {\r\n  deselectIndicator,\r\n  selectIndicator,\r\n  toggleGroupIndicators,\r\n} from '../../state/indicator/actions'\r\n\r\ninterface PublicProps {\r\n  groupName: string\r\n  value: Indicator[]\r\n}\r\n\r\ntype Props = {\r\n  select(id: string): void\r\n  deselect(id: string): void\r\n  toggleGroup(subject: string, selected: boolean): void\r\n} & PublicProps\r\n\r\nfunction getToggleLabel(label: String) {\r\n  switch (label) {\r\n    case 'Gesellschaft und Soziales':\r\n      return 'Alle gesellschaftlichen Indikatoren'\r\n    case 'Raum und Umwelt':\r\n      return 'Alle r√§umlichen Indikatoren'\r\n    case 'Wirtschaft und Arbeit':\r\n      return 'Alle wirtschaftlichen Indikatoren'\r\n    default:\r\n      return 'Alle Indikatoren'\r\n  }\r\n}\r\n\r\nconst IndicatorSelectionGroup: React.SFC<Props> = props => {\r\n  const { value, groupName, select, deselect, toggleGroup } = props\r\n  const groupSelectedCount = _.filter(value, indicator => indicator.selected).length\r\n  return (\r\n    <div className=\"selectionGroup\">\r\n      <div className=\"selectionGroupTitle\">\r\n        {groupName} ({groupSelectedCount})\r\n      </div>\r\n      <div className=\"selectionCheckboxes\">\r\n        {value.map(indicator => (\r\n          <div key={indicator.id} className=\"selectionCheckbox\">\r\n            <label>\r\n              <input\r\n                type=\"checkbox\"\r\n                id={indicator.id}\r\n                name={indicator.name}\r\n                value={indicator.id}\r\n                checked={indicator.selected || false}\r\n                onChange={e => {\r\n                  return e.target.checked ? select(indicator.id) : deselect(indicator.id)\r\n                }}\r\n              />\r\n              {indicator.name}\r\n            </label>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <div className=\"toggleGroup\">\r\n        <label>\r\n          <input\r\n            type=\"checkbox\"\r\n            id={groupName}\r\n            value={groupName}\r\n            checked={groupSelectedCount === value.length}\r\n            onChange={e => {\r\n              return toggleGroup(groupName, e.target.checked)\r\n            }}\r\n          />\r\n          {getToggleLabel(groupName)}\r\n        </label>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state: Rootstate) => ({\r\n  // empty\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n  select: selectIndicator,\r\n  deselect: deselectIndicator,\r\n  toggleGroup: toggleGroupIndicators,\r\n}\r\n\r\nexport default compose<Props, PublicProps>(\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )\r\n)(IndicatorSelectionGroup)\r\n","import * as React from 'react'\r\nimport c from 'classnames'\r\nimport { Button } from '@material-ui/core'\r\nimport * as H from 'history'\r\nimport { ButtonProps } from '@material-ui/core/Button'\r\nimport { Link } from 'react-router-dom'\r\n\r\ninterface NavButtonProps extends ButtonProps {\r\n  to: H.LocationDescriptor\r\n}\r\n\r\nconst styleEnabledButton = {\r\n  backgroundColor: '#225b33',\r\n  border: '1px solid #225b33',\r\n  borderRadius: '4px',\r\n  boxShadow: 'inset 0 1px 1px rgba(0,0,0,0.05)',\r\n  color: 'white',\r\n  textTransform: 'none',\r\n} as React.CSSProperties\r\n\r\nconst styleDisabledButton = {\r\n  backgroundColor: '#f5f5f5',\r\n  border: '1px solid #cccccc',\r\n  borderRadius: '4px',\r\n  boxShadow: 'inset 0 1px 1px rgba(0,0,0,0.05)',\r\n  color: 'black',\r\n  textTransform: 'none',\r\n} as React.CSSProperties\r\n\r\n/**\r\n * Additional functionality for navigation for material ui buttons\r\n */\r\nconst NavButton: React.StatelessComponent<NavButtonProps> = ({\r\n  className,\r\n  to,\r\n  children,\r\n  ...rest\r\n}) => {\r\n  return (\r\n    <Button\r\n      {...rest}\r\n      component={b => (\r\n        <Link\r\n          to={to}\r\n          className={c(b.className, className)}\r\n          style={rest.disabled ? styleDisabledButton : styleEnabledButton}\r\n        >\r\n          {b.children}\r\n        </Link>\r\n      )}\r\n    >\r\n      {children}\r\n    </Button>\r\n  )\r\n}\r\n\r\nexport default NavButton\r\n","import * as React from 'react'\r\nimport { Grid } from '@material-ui/core'\r\nimport NavButton from '../customElements/NavButton'\r\n\r\ninterface SelectionNavigationProps {\r\n  valid: boolean\r\n}\r\n\r\nconst SelectionNavigation: React.SFC<SelectionNavigationProps> = ({ valid }) => {\r\n  return (\r\n    <div className=\"wizardFooter\">\r\n      <Grid container justify=\"space-between\">\r\n        <Grid item xs={2}>\r\n          {}\r\n        </Grid>\r\n        <Grid className={valid ? 'showDescription' : 'hideDescription'} item xs={8}>\r\n          {}\r\n          <p className=\"stepper-description text\">\r\n            ¬´Rangliste erstellen¬ª zeigt direkt die Rangliste als Ergebnis Ihrer Indikatoren-Auswahl\r\n            an.\r\n            <br />\r\n            In diesem Fall wird f√ºr jeden ausgew√§hlten Indikator angenommen, dass ein hoher Wert f√ºr\r\n            Sie positiv und der Indikator sehr wichtig ist. Alternativ dazu k√∂nnen Sie die Bewertung\r\n            und die Gewichtung in separaten Arbeitsschritten f√ºr jeden ausgew√§hlten Indikator\r\n            einzeln anpassen.\r\n          </p>\r\n        </Grid>\r\n\r\n        <Grid item xs={2}>\r\n          <NavButton\r\n            className=\"wizard-right-button\"\r\n            disabled={!valid}\r\n            variant=\"contained\"\r\n            to={'/ranking'}\r\n          >\r\n            Weiter zur Bewertung\r\n          </NavButton>\r\n          <NavButton\r\n            className=\"wizard-right-button\"\r\n            disabled={!valid}\r\n            variant=\"contained\"\r\n            to={'/plot'}\r\n          >\r\n            Rangliste erstellen\r\n          </NavButton>\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SelectionNavigation\r\n","import * as React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { compose } from 'redux'\r\nimport { Rootstate } from '../../state'\r\nimport { getSelectedIndicators } from '../../state/indicator/selectors'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { Grid } from '@material-ui/core'\r\n\r\ninterface WizardLayoutProps {\r\n  isValid: boolean\r\n  ignoreRedirect?: boolean\r\n}\r\n\r\nconst WizardLayout: React.SFC<WizardLayoutProps> = props => {\r\n  const { children, isValid, ignoreRedirect } = props\r\n\r\n  if (!isValid && !ignoreRedirect) {\r\n    //  Redirect to selection page if nothing is selected in wizard\r\n    return <Redirect to=\"/\" />\r\n  }\r\n\r\n  return (\r\n    <div className=\"floating-container\">\r\n      <Grid item xs={12}>\r\n        {children}\r\n      </Grid>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state: Rootstate) => ({\r\n  isValid: getSelectedIndicators(state).length > 0,\r\n})\r\n\r\nexport default compose(connect(mapStateToProps))(WizardLayout)\r\n","export const TOGGLE_SELECT_INDICATOR_VISIBILITY = 'toggle/selectIndicatorVisibility';\r\nexport type TOGGLE_SELECT_INDICATOR_VISIBILITY = typeof TOGGLE_SELECT_INDICATOR_VISIBILITY;\r\n\r\nexport const DISABLE_DISCLAIMER = 'toggle/disableDisclaimer';\r\nexport type DISABLE_DISCLAIMER = typeof DISABLE_DISCLAIMER;\r\n","import * as constants from './constants'\r\n\r\n/**\r\n * Interface with payload\r\n */\r\nexport interface ToggleIndicatorSelectionVisibility {\r\n  type: constants.TOGGLE_SELECT_INDICATOR_VISIBILITY;\r\n  payload: {\r\n    visible: boolean\r\n  }\r\n}\r\n\r\nexport interface DisableDisclaimer {\r\n  type: constants.DISABLE_DISCLAIMER;\r\n  payload: {\r\n    visible: boolean\r\n  }\r\n}\r\n\r\nexport type UtilAction = ToggleIndicatorSelectionVisibility | DisableDisclaimer; // type with all interfaces, more with ||\r\n\r\n/**\r\n * Actions with type and payload\r\n */\r\nexport const toggleIndicatorSelectionVisibility = (currentVisibility: boolean)\r\n    : ToggleIndicatorSelectionVisibility => (\r\n    {\r\n      type: constants.TOGGLE_SELECT_INDICATOR_VISIBILITY,\r\n      payload: {\r\n        visible: !currentVisibility\r\n      }\r\n    }\r\n);\r\n\r\nexport const disableDisclaimer = (): DisableDisclaimer => ({\r\n  type: constants.DISABLE_DISCLAIMER,\r\n  payload: {\r\n    visible: false\r\n  }\r\n});\r\n\r\n","import { Rootstate } from '../index';\r\n\r\nconst select = (state: Rootstate)  => {\r\n  return state.util;\r\n};\r\n\r\n/**\r\n * Selects Util\r\n */\r\nexport const getUtil = (state: Rootstate) => {\r\n  return select(state);\r\n};\r\n\r\nexport const getShowDisclaimer = (state: Rootstate) => {\r\n  return state.util.showDisclaimer;\r\n}","import * as React from 'react'\r\nimport Icon from '@material-ui/core/Icon'\r\nimport { connect } from 'react-redux'\r\nimport { compose } from 'recompose'\r\nimport { Rootstate } from '../../state'\r\nimport { disableDisclaimer } from '../../state/util/actions'\r\nimport { getShowDisclaimer } from '../../state/util/selectors'\r\n\r\nimport './disclaimer.css'\r\n\r\nexport interface PublicProps {\r\n  // empty\r\n}\r\n\r\ntype Props = {\r\n  disableDisclaimer(visible: boolean): void\r\n  showDisclaimer: boolean\r\n} & PublicProps\r\n\r\nconst Disclaimer: React.SFC<Props> = props => {\r\n  const { disableDisclaimer, showDisclaimer } = props\r\n  if (!showDisclaimer) {\r\n    return null\r\n  }\r\n  return (\r\n    <div className=\"right-grid disclaimer-main-view disclaimer\">\r\n      <div className=\"disclaimerText\">\r\n        Die von Ihnen vorgenommenen Einstellungen (Auswahl, Bewertung und Gewichtung) werden nicht\r\n        gespeichert.\r\n        <br />\r\n        Sie werden ausschliesslich f√ºr die Berechnung der Rangliste genutzt.\r\n      </div>\r\n      <div className=\"disclaimerButton\">\r\n        <button className=\"disclaimerCloseButton\" onClick={() => disableDisclaimer(false)}>\r\n          <Icon>cancel</Icon>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state: Rootstate) => ({\r\n  showDisclaimer: getShowDisclaimer(state),\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n  disableDisclaimer: disableDisclaimer,\r\n}\r\n\r\nexport default compose<Props, PublicProps>(\r\n  // withStyles(styles),\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )\r\n)(Disclaimer)\r\n","import welcomeImage from '../assets/welcome.jpg';\r\nimport * as React from 'react';\r\n\r\nexport const welcome: React.SFC<string> = (text: string) =>\r\n  (<div>\r\n    <h1 className=\"welcome-title\"> Finden Sie Ihr Lieblingswohnviertel </h1>\r\n    {text}\r\n    <img className=\"welcome-img\" src={welcomeImage}/>\r\n  </div>)\r\n;","import * as React from 'react'\r\nimport * as _ from 'lodash'\r\nimport { connect } from 'react-redux'\r\nimport { compose } from 'recompose'\r\nimport { Rootstate } from '../state/index'\r\nimport { getGroupedIndicators, getSelectedIndicators } from '../state/indicator/selectors'\r\nimport { Indicator } from '../state/indicator/types'\r\n// import Grid from '@material-ui/core/Grid'\r\nimport { createStyles, Theme, withStyles, WithStyles } from '@material-ui/core/styles'\r\nimport IndicatorSelectionGroup from '../component/selection/IndicatorSelectionGroup'\r\nimport SelectionNavigation from '../component/navigation/SelectionNavigation'\r\nimport WizardLayout from '../component/layout/WizardLayout'\r\nimport Disclaimer from '../component/disclaimer/Disclaimer'\r\nimport { welcome } from './welcome';\r\n\r\nexport interface PublicProps {\r\n}\r\n\r\nexport const styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      flexGrow: 1,\r\n      paddingTop: 16,\r\n      paddingBottom: 16,\r\n      marginTop: theme.spacing.unit * 3,\r\n      paddingLeft: theme.spacing.unit * 3,\r\n    },\r\n    title: {\r\n      padding: theme.spacing.unit * 2,\r\n    },\r\n  })\r\n\r\nexport type Props = {\r\n  groupedIndicators: { [key: string]: Indicator[] }\r\n  valid: boolean\r\n} & WithStyles<typeof styles>\r\n\r\nconst IndicatorSelection: React.SFC<Props> = props => {\r\n  const { groupedIndicators, valid } = props\r\n  const numIndicators = _.reduce(\r\n    groupedIndicators,\r\n    (sum, indicatorGroup) => indicatorGroup.length + sum,\r\n    0\r\n    )\r\n    return (\r\n    <WizardLayout ignoreRedirect>\r\n\r\n      {welcome(\r\n        `Herzlich willkommen bei \\u00ABFinden Sie Ihr Lieblingswohnviertel\\u00BB!\r\n          Auf dieser Seite k√∂nnen Sie Ihre ganz pers√∂nliche Rangliste der\r\n          Basler Wohnviertel und Gemeinden erstellen.\r\n        `\r\n      )}\r\n      <div className=\"wizardDescription text\">\r\n        Bitte w√§hlen Sie in einem ersten Schritt zwischen 1 und {numIndicators} Indikatoren aus,\r\n        welche in die Index-Berechnung einfliessen sollen.\r\n        <br/>\r\n        In einem n√§chsten Schritt k√∂nnen Sie bestimmen, ob Sie einen hohen Wert eines Indikators als\r\n        positiv oder als negativ beurteilen.\r\n        <br/>\r\n        Im dritten Schritt k√∂nnen Sie festlegen, mit welcher Gewichtung ein ausgew√§hlter Indikator\r\n        in Ihre Berechnung einfliessen soll.\r\n      </div>\r\n      <div className=\"mainFrame\">\r\n        <h2 className=\"wizardTitle\">\r\n          Schritt 1: W√§hlen Sie mindestens einen Indikator aus.\r\n        </h2>\r\n        <div className=\"selections\">\r\n          {_.map(groupedIndicators, (value, key) => (\r\n            <IndicatorSelectionGroup key={key} groupName={key} value={value}/>\r\n          ))}\r\n        </div>\r\n        <SelectionNavigation valid={valid} />\r\n        <Disclaimer />\r\n      </div>\r\n    </WizardLayout>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state: Rootstate) => ({\r\n  groupedIndicators: getGroupedIndicators(state),\r\n  valid: getSelectedIndicators(state).length > 0,\r\n})\r\n\r\nconst mapDispatchToProps = {}\r\n\r\nexport default compose<Props, PublicProps>(\r\n  withStyles(styles),\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )\r\n)(IndicatorSelection)\r\n","import { LineRank } from '../state/observation/types'\r\nimport { Indicator, NegativePositive, WeightNumber } from '../state/indicator/types'\r\nimport { District } from '../state/district/types'\r\nimport { reduce } from 'lodash'\r\n\r\nexport const getRankingColor = (rank: LineRank): string => {\r\n  if (rank.highlighted && rank.hover) {\r\n    return '#4d00ff'\r\n  } else {\r\n    return 'black'\r\n  }\r\n}\r\n\r\nexport const getLineStroke = (rank: LineRank): string => {\r\n  if (rank.highlighted || rank.hover) {\r\n    return '2'\r\n  }\r\n  return '1'\r\n}\r\n\r\nexport const getColor = (positive: boolean): React.CSSProperties => {\r\n  if (positive) {\r\n    return {\r\n      borderColor: '#0387c1',\r\n      backgroundColor: '#0387c1',\r\n    }\r\n  } else {\r\n    return {\r\n      borderColor: '#e54803',\r\n      backgroundColor: '#e54803',\r\n    }\r\n  }\r\n}\r\n\r\nexport const getClassNameSelectedUnselected = (\r\n  indicator: Indicator,\r\n  buttonType: string\r\n): string => {\r\n  if (indicator.valuation === -1 && buttonType === 'negative') {\r\n    return ' negative-selected'\r\n  } else if (indicator.valuation === 1 && buttonType === 'negative') {\r\n    return ' negative-unselected'\r\n  } else if (indicator.valuation === 1 && buttonType === 'positive') {\r\n    return ' positive-selected'\r\n  } else if (indicator.valuation === -1 && buttonType === 'positive') {\r\n    return ' positive-unselected'\r\n  }\r\n  return ''\r\n}\r\n\r\nexport const getClassNameNegPosBorder = (indicator: Indicator): string => {\r\n  switch (indicator.valuation) {\r\n    case NegativePositive.Negative:\r\n      return ' negative-border '\r\n    case NegativePositive.Positive:\r\n      return ' positive-border '\r\n    default:\r\n      return ''\r\n  }\r\n}\r\n\r\nexport const getClassNameNegPos = (indicator: Indicator): string => {\r\n  switch (indicator.valuation) {\r\n    case NegativePositive.Negative:\r\n      return ' negative '\r\n    case NegativePositive.Positive:\r\n      return ' positive '\r\n    default:\r\n      return ''\r\n  }\r\n}\r\n\r\nexport const labels = ['sehr unwichtig', 'eher unwichtig', 'eher wichtig', 'sehr wichtig']\r\n\r\nexport const getLabelBy = (weight: WeightNumber): string => {\r\n  switch (weight) {\r\n    case WeightNumber.ONE:\r\n      return labels[0]\r\n    case WeightNumber.TWO:\r\n      return labels[1]\r\n    case WeightNumber.THREE:\r\n      return labels[2]\r\n    case WeightNumber.FOUR:\r\n      return labels[3]\r\n    default:\r\n      return ''\r\n  }\r\n}\r\n\r\nexport const anyUserSelection = (districts: District[]): boolean =>\r\n  districts.map(d => d.viewOptions.highlight).reduce((a, b) => a || b)\r\n\r\nexport const getRankPosition = (\r\n  data: { value: number; id: string }[]\r\n): { [id: string]: number } => {\r\n  return reduce(\r\n    data,\r\n    (accu, entry, idx) => {\r\n      return {\r\n        ...accu,\r\n        [entry.id]: idx * 22.27 + 7.22,\r\n      }\r\n    },\r\n    {}\r\n  )\r\n}\r\n/**\r\n * Convert the decimal point into a comma.\r\n * \r\n * @param num the number to convert\r\n */\r\nexport const convertDecimalPoint = (num: any): String => {\r\n  return num.toString().replace('.', ',');\r\n}\r\n\r\n","import * as React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { compose } from 'recompose'\r\nimport { Rootstate } from '../../state'\r\nimport { getSelectedIndicators } from '../../state/indicator/selectors'\r\nimport { Indicator } from '../../state/indicator/types'\r\n// import Grid from '@material-ui/core/Grid'\r\n// import { Theme, WithStyles, withStyles, createStyles } from '@material-ui/core/styles'\r\n// import Button from '@material-ui/core/Button'\r\nimport Icon from '@material-ui/core/Icon'\r\nimport { setNegativeValuation, setPositiveValuation } from '../../state/indicator/actions'\r\nimport { getClassNameSelectedUnselected } from '../../helpers'\r\n\r\nexport interface PublicProps {\r\n  indicator: Indicator\r\n}\r\n\r\ntype Props = {\r\n  positiveValuation(id: string): void\r\n  negativeValuation(id: string): void\r\n} & PublicProps\r\n\r\nconst IndicatorRatingLine: React.SFC<Props> = props => {\r\n  const { positiveValuation, negativeValuation, indicator } = props\r\n  return (\r\n    <div className=\"ratingLine\">\r\n      <div className=\"ratingLineText\">\r\n        <p>&#x25BA; {indicator.valuationText} ...</p>\r\n      </div>\r\n      <div className=\"ratingLineButtons\">\r\n        <button\r\n          className={'ratingButton' + getClassNameSelectedUnselected(indicator, 'positive')}\r\n          onClick={() => positiveValuation(indicator.id)}\r\n        >\r\n          <Icon style={{ paddingRight: '5px' }}>mood</Icon>\r\n          Positiv\r\n        </button>\r\n\r\n        <button\r\n          className={'ratingButton' + getClassNameSelectedUnselected(indicator, 'negative')}\r\n          onClick={() => negativeValuation(indicator.id)}\r\n        >\r\n          <Icon style={{ paddingRight: '5px' }}>mood_bad</Icon>\r\n          Negativ\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state: Rootstate) => ({\r\n  selectedIndicators: getSelectedIndicators(state),\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n  positiveValuation: setPositiveValuation,\r\n  negativeValuation: setNegativeValuation,\r\n}\r\n\r\nexport default compose<Props, PublicProps>(\r\n  // withStyles(styles),\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )\r\n)(IndicatorRatingLine)\r\n","import { Grid } from '@material-ui/core'\r\nimport NavButton from '../customElements/NavButton'\r\nimport * as React from 'react'\r\n\r\ninterface RatingNavigationProps {}\r\n\r\nconst RatingNavigation: React.SFC<RatingNavigationProps> = props => {\r\n  return (\r\n    <div className=\"wizardFooter\">\r\n      <Grid container justify=\"flex-end\">\r\n        <Grid item xs={2}>\r\n          <NavButton className=\"wizard-left-button\" variant=\"contained\" to=\"/\">\r\n            Zur√ºck zur Auswahl\r\n          </NavButton>\r\n        </Grid>\r\n\r\n        <Grid item xs={8}>\r\n          <p className=\"stepper-description text\">\r\n            ¬´Rangliste erstellen¬ª zeigt direkt die Rangliste als Ergebnis Ihrer Indikatoren-Auswahl\r\n            und der oben eingestellten Bewertung der Indikatoren an. Alle Indikatoren fliessen mit\r\n            demselben Gewicht von 1 (= sehr wichtig) in die Berechnung ein. Alternativ dazu k√∂nnen\r\n            Sie die Gewichtung im n√§chsten Arbeitsschritt f√ºr jeden ausgew√§hlten Indikator anpassen.\r\n          </p>\r\n        </Grid>\r\n\r\n        <Grid item xs={2}>\r\n          <NavButton className=\"wizard-right-button\" variant=\"contained\" to={'/importance'}>\r\n            Weiter zur Gewichtung\r\n          </NavButton>\r\n          <NavButton className=\"wizard-right-button\" variant=\"contained\" to={'/plot'}>\r\n            Rangliste erstellen\r\n          </NavButton>\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default RatingNavigation\r\n","import * as React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { compose } from 'redux'\r\nimport { Rootstate } from '../state/index'\r\nimport { getSelectedIndicators } from '../state/indicator/selectors'\r\nimport { Indicator } from '../state/indicator/types'\r\nimport { toggleIndicatorSelectionVisibility } from '../state/util/actions'\r\n// import Grid from '@material-ui/core/Grid'\r\nimport IndicatorRatingLine from '../component/selection/IndicatorRatingLine'\r\nimport RatingNavigation from '../component/navigation/RatingNavigation'\r\nimport WizardLayout from '../component/layout/WizardLayout'\r\nimport Disclaimer from '../component/disclaimer/Disclaimer'\r\nimport { welcome } from './welcome';\r\n\r\nexport interface Props {\r\n  selectedIndicators: Indicator[]\r\n\r\n  positiveValuation(id: string): void\r\n\r\n  negativeValuation(id: string): void\r\n\r\n  toggleVisibility(visibility: boolean): void\r\n}\r\n\r\nconst IndicatorRating: React.SFC<Props> = props => {\r\n  const { selectedIndicators } = props\r\n\r\n  return (\r\n    <WizardLayout>\r\n\r\n      {welcome(\r\n        `Erstellen Sie Ihre ganz pers√∂nliche Rangliste der Basler Wohnviertel und Gemeinden!`\r\n      )}\r\n\r\n      <div className=\"wizardDescription text\">\r\n        Bitte legen Sie hier f√ºr jeden Indikator fest, ob ein hoher Wert f√ºr Sie positiv oder\r\n        negativ ist.\r\n        <br />\r\n        Ein Beispiel: Wenn Sie keinen hohen Anteil an Einfamilienh√§usern haben wollen, weisen Sie dem\r\n        entsprechenden Indikator das Attribut ¬´negativ¬ª zu.\r\n        <br />\r\n        Die Ausgangseinstellung ist f√ºr jeden ausgew√§hlten Indikator ¬´positiv¬ª gesetzt.\r\n      </div>\r\n      <div className=\"mainFrame\">\r\n        <h2 className=\"wizardTitle\">\r\n          Schritt 2: Legen Sie fest, ob ein hoher Wert eines Indikators positiv oder negativ ist.\r\n        </h2>\r\n        <div className=\"rating\">\r\n          <div className=\"ratingLeft\">\r\n            {selectedIndicators.map(indicator => {\r\n              return <IndicatorRatingLine key={indicator.id} indicator={indicator} />\r\n            })}\r\n          </div>\r\n          <div className=\"raitingRight\">\r\n            {selectedIndicators.map(indicator => {\r\n              return (\r\n                <div className=\"indicatorRatingDescription\" key={indicator.id}>\r\n                  {indicator.description}\r\n                </div>\r\n              )\r\n            })}\r\n          </div>\r\n        </div>\r\n        <RatingNavigation />\r\n        <Disclaimer />\r\n      </div>\r\n    </WizardLayout>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state: Rootstate) => ({\r\n  selectedIndicators: getSelectedIndicators(state),\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n  toggleVisibility: toggleIndicatorSelectionVisibility,\r\n}\r\n\r\nexport default compose(\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )\r\n)(IndicatorRating)\r\n","import * as React from 'react'\r\nimport './tooltip.css'\r\n\r\nexport interface PublicProps {\r\n  title: string,\r\n  description: string\r\n}\r\n\r\nexport type TooltipState = {\r\n  displayTooltip: boolean;\r\n}\r\n\r\nconst tooltipStyle = {\r\n  color: '#386c8e',\r\n  fontWeight: 'bold',\r\n} as React.CSSProperties\r\n\r\nconst tooltipTitleStyle = {\r\n  fontWeight: 'bold',\r\n} as React.CSSProperties\r\n\r\n/**\r\n * Additional functionality for navigation for material ui buttons\r\n */\r\nclass Tooltip extends React.Component<PublicProps, TooltipState> {\r\n\r\n  constructor(props: PublicProps) {\r\n    super(props)\r\n    this.state = {\r\n      displayTooltip: false\r\n    }\r\n    this.hideTooltip = this.hideTooltip.bind(this)\r\n    this.showTooltip = this.showTooltip.bind(this);\r\n  }\r\n\r\n  hideTooltip(): void {\r\n    this.setState(\r\n       {displayTooltip: false}\r\n    )\r\n  }\r\n\r\n  showTooltip(): void {\r\n    this.setState(\r\n       {displayTooltip: true}\r\n    )\r\n  }\r\n  \r\n  render() {\r\n    const {title, description, children} = this.props;\r\n\r\n    return (\r\n      <span className='tooltip'\r\n          onMouseLeave={this.hideTooltip}\r\n          style={tooltipStyle}\r\n      >\r\n        {this.state.displayTooltip &&\r\n        <div className={`tooltip-bubble tooltip-top`}>\r\n          <div className='tooltip-message'><span style={tooltipTitleStyle}>{title}:</span> {description}</div>\r\n        </div>\r\n        }\r\n        <span \r\n          className='tooltip-trigger'\r\n          onMouseOver={this.showTooltip}\r\n          style={tooltipStyle}\r\n          >\r\n          {children}\r\n        </span>\r\n      </span>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Tooltip;\r\n\r\n","import * as React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { compose } from 'recompose'\r\nimport { Rootstate } from '../../state'\r\n// import { Tooltip } from '@material-ui/core'\r\nimport Tooltip from '../customElements/Tooltip'\r\nimport { getSelectedIndicators } from '../../state/indicator/selectors'\r\nimport { Indicator, WeightNumber } from '../../state/indicator/types'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { Theme, WithStyles, createStyles } from '@material-ui/core/styles'\r\nimport { withStyles } from '@material-ui/core/styles'\r\nimport { setWeight } from '../../state/indicator/actions'\r\nimport { labels } from '../../helpers'\r\nimport FormLabel from '@material-ui/core/FormLabel'\r\n\r\nexport interface PublicProps {\r\n  indicator: Indicator\r\n}\r\n\r\nexport const styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      paddingBottom: '5px',\r\n    },\r\n    checked: {\r\n      color: '#1d4e2c',\r\n      '&$checked': {\r\n        color: '#1d4e2c',\r\n      },\r\n    },\r\n    title: {\r\n      padding: theme.spacing.unit * 2,\r\n      textAlign: 'center',\r\n      color: '#1D4E2C',\r\n    },\r\n    leftIcon: {\r\n      marginRight: theme.spacing.unit,\r\n      marginBottom: theme.spacing.unit,\r\n    },\r\n    textCentered: {\r\n      display: 'inline-block',\r\n    },\r\n    sizeIcon: {\r\n      fontSize: 20,\r\n    },\r\n  })\r\n\r\ntype Props = {\r\n  setIndicatorWeight(id: string, weight: WeightNumber): void\r\n} & PublicProps &\r\n  WithStyles<typeof styles>\r\n\r\nconst IndicatorImportanceLine: React.SFC<Props> = props => {\r\n  const { classes, indicator, setIndicatorWeight } = props\r\n  let indexPrefix = indicator.weightText.indexOf(indicator.name.split(' ')[0])\r\n  /* Hack for Sesshaftigkeit */\r\n  if (indexPrefix === -1) {\r\n    indexPrefix = 4\r\n  }\r\n  const prefix = indicator.weightText.substring(0, indexPrefix)\r\n  const suffixIndex = indicator.weightText.indexOf(' ', indexPrefix + indicator.name.length)\r\n  const suffix = indicator.weightText.substring(suffixIndex, indicator.weightText.length)\r\n  const text = indicator.weightText.substring(indexPrefix, suffixIndex)\r\n  return (\r\n    <Grid container alignItems=\"center\" style={{ paddingTop: '5px', paddingBottom: '5px' }}>\r\n      <Grid item xs={6}>\r\n        <p>\r\n          &#x25BA; {prefix}{' '}\r\n          <Tooltip title={text} description={indicator.description}>{text}</Tooltip>\r\n          {suffix} ...\r\n        </p>\r\n      </Grid>\r\n      <Grid item xs={6}>\r\n        <Grid container spacing={0}>\r\n          {[WeightNumber.ONE, WeightNumber.TWO, WeightNumber.THREE, WeightNumber.FOUR].map(\r\n            (weight, idx) => (\r\n              <Grid item xs={3} key={indicator.id + weight.toString()}>\r\n                <input\r\n                  type=\"radio\"\r\n                  id={indicator.id + weight.toString()}\r\n                  checked={indicator.weight === weight}\r\n                  className={classes.root}\r\n                  onChange={value => setIndicatorWeight(indicator.id, weight)}\r\n                  value={weight.toString()}\r\n                  name={indicator.id}\r\n                />\r\n                <FormLabel htmlFor={indicator.id + weight.toString()}>{labels[idx]}</FormLabel>\r\n              </Grid>\r\n            )\r\n          )}\r\n        </Grid>\r\n      </Grid>\r\n    </Grid>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state: Rootstate, ownProps: PublicProps) => ({\r\n  selectedIndicators: getSelectedIndicators(state),\r\n  ...ownProps,\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n  setIndicatorWeight: setWeight,\r\n}\r\n\r\nexport default compose<Props, PublicProps>(\r\n  withStyles(styles),\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )\r\n)(IndicatorImportanceLine)\r\n","import { Grid } from '@material-ui/core'\r\nimport NavButton from '../customElements/NavButton'\r\nimport * as React from 'react'\r\n\r\ninterface WeightNavigationProps {}\r\n\r\nconst WeightNavigation: React.SFC<WeightNavigationProps> = props => {\r\n  return (\r\n    <div className=\"wizardFooter\">\r\n      <Grid container justify=\"flex-end\">\r\n        <Grid item xs={2}>\r\n          <NavButton className=\"wizard-left-button\" variant=\"contained\" to={'/ranking'}>\r\n            Zur√ºck zur Bewertung\r\n          </NavButton>\r\n          <NavButton className=\"wizard-left-button\" variant=\"contained\" to=\"/\">\r\n            Zur√ºck zur Auswahl\r\n          </NavButton>\r\n        </Grid>\r\n\r\n        <Grid item xs={8}>\r\n          <p className=\"stepper-description text\">\r\n            ¬´Rangliste erstellen¬ª zeigt die Rangliste als Ergebnis Ihrer Indikatoren-Auswahl und der\r\n            oben eingestellten Gewichtung der Indikatoren an. Alle Bewertungen und Gewichtungen\r\n            k√∂nnen auch direkt in der Ergebnisdarstellung beliebig oft neu eingestellt werden.\r\n          </p>\r\n        </Grid>\r\n\r\n        <Grid item xs={2}>\r\n          <NavButton className=\"wizard-right-button\" variant=\"contained\" to={'/plot'}>\r\n            Rangliste erstellen\r\n          </NavButton>\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default WeightNavigation\r\n","import * as React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { compose } from 'recompose'\r\nimport { Rootstate } from '../state/index'\r\nimport { getSelectedIndicators } from '../state/indicator/selectors'\r\nimport { Indicator } from '../state/indicator/types'\r\nimport { Theme, WithStyles, withStyles, createStyles } from '@material-ui/core/styles'\r\nimport IndicatorImportanceLine from '../component/selection/IndicatorImportanceLine'\r\nimport WeightNavigation from '../component/navigation/WeightNavigation'\r\nimport WizardLayout from '../component/layout/WizardLayout'\r\nimport Disclaimer from '../component/disclaimer/Disclaimer'\r\nimport { welcome } from './welcome';\r\n\r\nexport interface Props {\r\n  selectedIndicators: Indicator[]\r\n\r\n  positiveValuation(id: string): void\r\n\r\n  negativeValuation(id: string): void\r\n\r\n  toggleVisibility(visibility: boolean): void\r\n}\r\n\r\nexport const styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      flexGrow: 1,\r\n    },\r\n    leftIcon: {\r\n      marginRight: theme.spacing.unit,\r\n    },\r\n  })\r\n\r\nconst IndicatorWeight: React.SFC<Props & WithStyles<typeof styles>> = props => {\r\n  const { selectedIndicators } = props\r\n  return (\r\n    <WizardLayout>\r\n      {welcome(\r\n        `Erstellen Sie Ihre ganz pers√∂nliche Rangliste der Basler Wohnviertel und Gemeinden!`\r\n      )}\r\n\r\n      <div className=\"wizardDescription text\">\r\n        Bitte weisen Sie jedem ausgew√§hlten Indikator ein individuelles Gewicht zu und bestimmen Sie\r\n        somit, wie wichtig er f√ºr die Berechnung Ihrer Wohnviertel-Rangliste sein soll. Folgende\r\n        Gewichtungs-Einstellungen stehen zur Auswahl: <br />\r\n        positiv: sehr unwichtig = Gewicht von 0,25, eher unwichtig = Gewicht von 0,5, eher wichtig =\r\n        Gewicht von 0,75, sehr wichtig = Gewicht von 1. <br />\r\n        negativ: sehr unwichtig = Gewicht von -0,25, eher unwichtig = Gewicht von -0,5, eher wichtig\r\n        = Gewicht von -0,75, sehr wichtig = Gewicht von -1.\r\n      </div>\r\n      <div className=\"mainFrame\">\r\n        <h2 className=\"wizardTitle\">\r\n          Schritt 3: Geben Sie an, wie wichtig der Indikator f√ºr Sie ist.\r\n        </h2>\r\n        <div className=\"contentBox\">\r\n          {selectedIndicators.map(indicator => {\r\n            return <IndicatorImportanceLine key={indicator.id} indicator={indicator} />\r\n          })}\r\n        </div>\r\n\r\n        <WeightNavigation />\r\n        <Disclaimer />\r\n      </div>\r\n    </WizardLayout>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state: Rootstate) => ({\r\n  selectedIndicators: getSelectedIndicators(state),\r\n})\r\n\r\nconst mapDispatchToProps = {}\r\n\r\nexport default compose<Props & WithStyles<typeof styles>, {}>(\r\n  withStyles(styles),\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )\r\n)(IndicatorWeight)\r\n","import * as _ from 'lodash'\r\nimport { Rootstate } from '../index'\r\nimport { District } from './types'\r\n\r\nconst select = (state: Rootstate) => {\r\n  return state.district\r\n}\r\n\r\n/**\r\n * Selects all existing districts\r\n */\r\nexport const allDistricts = (state: Rootstate) => {\r\n  return _.values(select(state).byId)\r\n}\r\n\r\nexport const allDistrictsById = (state: Rootstate) => {\r\n  return select(state).byId\r\n}\r\n\r\n/**\r\n * Get a district by name.\r\n * \r\n * @param name the name of the district\r\n * @param state the state of the application\r\n */\r\nexport const districtByName = (name: string, state: Rootstate): District => {\r\n  return allDistricts(state).filter(district => district.name === name)[0]\r\n}\r\n\r\n/**\r\n * Selects one district\r\n */\r\nexport const getDistrictBy = (districtId: string, state: Rootstate): District => {\r\n  const success: District | undefined = allDistricts(state)\r\n    .filter(district => district.id === districtId)\r\n    .pop()\r\n\r\n  if (success) {\r\n    return success\r\n  } else {\r\n    throw new ReferenceError('Could not find district with id: ' + districtId)\r\n  }\r\n}\r\n","import * as _ from 'lodash'\r\nimport { createSelector } from 'reselect'\r\nimport { Rootstate } from '../index'\r\nimport { getIndicator, getSelectedIndicators } from '../indicator/selectors'\r\nimport { Color, LineRank, Observation, Rank } from './types'\r\nimport { Indicator } from '../indicator/types'\r\nimport { getDistrictBy } from '../district/selectors'\r\n\r\n/**\r\n * Get all observations from state without any filter\r\n * @param {Rootstate} state\r\n * @returns { {[p: string]: Observation} } Observations listed byId\r\n */\r\nconst getObservations = (state: Rootstate) => {\r\n  return state.observation.byId\r\n}\r\n\r\nexport const getAllObservations = (state: Rootstate) => {\r\n  return _.values(state.observation.byId)\r\n}\r\n\r\n/**\r\n * Group observations by district\r\n * @returns { [districtId: string]: Observation[] }\r\n */\r\nexport const groupObservationsByDistrict = createSelector(\r\n  [getObservations],\r\n  observations => {\r\n    return _.groupBy(observations, 'districtId')\r\n  }\r\n)\r\n\r\n/**\r\n * Calculate the average value of all observations with a reference to indicator\r\n * @param { Observation[] } observations of indicator or all observations\r\n * @param { Indicator } indicator to check if its related\r\n * @returns {number} floating point number of average\r\n */\r\nexport const getAverageValue = (observations: Observation[], indicator: Indicator) => {\r\n  let cnt = 0\r\n  // Sum all observations with indicator\r\n  const total = _.reduce(\r\n    observations,\r\n    (result, observation, key) => {\r\n      if (observation.indicatorId === indicator.id) {\r\n        cnt = cnt + 1\r\n        return result + observation.normValue\r\n      }\r\n      return result\r\n    },\r\n    0\r\n  )\r\n  if (cnt === 0) {\r\n    return total\r\n  }\r\n  return total / cnt\r\n}\r\n\r\n/**\r\n * Same as getAverageValue with multiplication and weight (0.25 - 1)\r\n * if valuation -1 subtraction of weighted average from 1\r\n * @param {Observation[]} observations\r\n * @param {Indicator} indicator\r\n * @returns {number}\r\n */\r\nexport const getWeightedAverageValue = (observations: Observation[], indicator: Indicator) => {\r\n  return getAverageValue(observations, indicator) * indicator.valuation * indicator.weight\r\n  /* Same as getAverageValue with multiplication and weight (0.25 - 1)\r\n   * if valuation -1 subtraction of weighted average from 1\r\n  \r\n  return indicator.valuation === 1 ?\r\n      getAverageValue(observations, indicator) * indicator.weight\r\n      : 1 - getAverageValue(observations, indicator) * indicator.weight;\r\n      */\r\n}\r\n\r\n/**\r\n * Get weighted ranking with all selected indicators per district\r\n * @returns {Rank[]} per district\r\n */\r\nexport const getGlobalRanking = createSelector(\r\n  [getSelectedIndicators, groupObservationsByDistrict],\r\n  (selectedIndicators, groupedByDistrict): Rank[] => {\r\n    if (selectedIndicators.length === 0) {\r\n      return []\r\n    }\r\n\r\n    // Get Rank per Util\r\n    return _.map(groupedByDistrict, observations => {\r\n      const total = _.reduce(\r\n        selectedIndicators,\r\n        (result, selectedIndicator, key) => {\r\n          return result + getWeightedAverageValue(observations, selectedIndicator)\r\n        },\r\n        0\r\n      )\r\n      return {\r\n        districtId: observations[0].districtId,\r\n        value: total / selectedIndicators.length,\r\n      }\r\n    })\r\n  }\r\n)\r\n\r\n/**\r\n * Sorted weighted ranking with all selected indicators per district by value\r\n * @returns {Rank[]} sorted ranking list\r\n */\r\nexport const getSortedGlobalRanking = createSelector(\r\n  [getGlobalRanking],\r\n  (globalRanking): Rank[] => {\r\n    return _.sortBy(globalRanking, 'value').reverse()\r\n  }\r\n)\r\n\r\n/**\r\n * This function accepts an additional prop {id: string}, see getIndicator\r\n * Returns a weighted Rank[] of the corresponding indicator\r\n * @returns {Rank[]} sorted the same way as getSortedGlobalRanking\r\n */\r\nexport const makeGetIndicatorRanking = () => {\r\n  return createSelector(\r\n    [groupObservationsByDistrict, getSortedGlobalRanking, getIndicator],\r\n    (groupedByDistrict, sortedRanking, indicator): Rank[] => {\r\n      // Get Rank per Util\r\n      const rankings = _.map(groupedByDistrict, observations => {\r\n        // Do weight, but only positive in this case\r\n        const total = Math.abs(getWeightedAverageValue(observations, indicator))\r\n\r\n        return {\r\n          districtId: observations[0].districtId,\r\n          value: total,\r\n        }\r\n      })\r\n\r\n      // Sort indicator rankings by sorted global ranking\r\n      return _.sortBy(rankings, [\r\n        function(ranking: Rank) {\r\n          return _.findIndex(sortedRanking, { districtId: ranking.districtId })\r\n        },\r\n      ])\r\n    }\r\n  )\r\n}\r\n\r\n/**\r\n * Maps quartierindex data model to Rechart data model\r\n * @param {{indicator: Indicator; districtRank: Rank[]}} indicatorRanking\r\n * @param {Rootstate} state\r\n * @returns {{name: string, indicatorName1: number, indicatorName2: number, ..., indicatorNameN}[]}\r\n */\r\nconst mapToRechartsDataModel = (\r\n  indicatorRanking: { indicator: Indicator; districtRank: Rank[] },\r\n  state: Rootstate\r\n) => {\r\n  const dataModel = { name: indicatorRanking.indicator.name }\r\n\r\n  indicatorRanking.districtRank.forEach(districtIdAndRankValue => {\r\n    const districtName = getDistrictBy(districtIdAndRankValue.districtId, state).name\r\n\r\n    dataModel[districtName] = districtIdAndRankValue.value\r\n  })\r\n  return dataModel\r\n}\r\n\r\n/**\r\n * Returns the ranking as it is required by Recharts\r\n * the rank of all selected indicators will be retrieved\r\n * @param {Rootstate} state\r\n * @returns {{name: string, indicatorName1: number, indicatorName2: number, ..., indicatorNameN}[]}\r\n */\r\nexport const getRankingDataForChart = (state: Rootstate) => {\r\n  const selectedIndicators = getSelectedIndicators(state)\r\n  const getIndicatorRanking = makeGetIndicatorRanking()\r\n\r\n  const indicatorRanking = selectedIndicators\r\n    .map(indicator => ({\r\n      indicator: indicator,\r\n      districtRank: getIndicatorRanking(state, { id: indicator.id }),\r\n    }))\r\n    .map(r => mapToRechartsDataModel(r, state))\r\n\r\n  return indicatorRanking\r\n}\r\n\r\nconst toLineRank = (rank: Rank, state: Rootstate): LineRank => {\r\n  const green: Color = { h: 128, s: 80 * rank.value, v: 50 }\r\n  const red: Color = { h: 348, s: 95 * (1 - rank.value), v: 50 }\r\n  const color: Color = rank.value > 0.5 ? green : red\r\n\r\n  const lineRank: LineRank = {\r\n    objectId: rank.districtId,\r\n    labelText: getDistrictBy(rank.districtId, state).name,\r\n    rankValue: rank.value,\r\n    color: color,\r\n    highlighted: getDistrictBy(rank.districtId, state).viewOptions.highlight,\r\n    hover: getDistrictBy(rank.districtId, state).viewOptions.hover,\r\n  }\r\n\r\n  return lineRank\r\n}\r\n\r\nexport const getLineRanking = (state: Rootstate) =>\r\n  getSortedGlobalRanking(state).map(rank => toLineRank(rank, state))\r\n","import React from 'react'\r\nimport { trim } from 'lodash'\r\nimport { LabelProps, ContentRenderer } from 'recharts'\r\n\r\nconst DistrictLabel: ContentRenderer<LabelProps> = props => {\r\n  const { x, y, width, height, value } = props\r\n\r\n  let xNew = 0\r\n  let text = value\r\n  switch (value[0]) {\r\n    // single number 1-9\r\n    case ' ': {\r\n      xNew = x + 6.5\r\n      break\r\n    }\r\n    // Basel-Stadt special\r\n    case 'X': {\r\n      xNew = x + 20.5\r\n      if (typeof value === 'string') {\r\n        text = value.substr(1)\r\n      }\r\n      break\r\n    }\r\n    // multi number 10-99\r\n    default:\r\n      xNew = x\r\n      break\r\n  }\r\n  // const xNew = value[0] === ' ' ? x + 6.5 : x\r\n  const yNew = y + 12.5\r\n\r\n  return (\r\n    <text\r\n      width={width}\r\n      height={height}\r\n      x={xNew}\r\n      y={yNew}\r\n      fill={'black'}\r\n      className=\"recharts-text recharts-cartesian-axis-tick-value\"\r\n      textAnchor=\"start\"\r\n    >\r\n      {value[0] === 'X' ? (\r\n        <tspan className=\"bold\">{trim(text.toString())}</tspan>\r\n      ) : (\r\n        <tspan>{trim(text.toString())}</tspan>\r\n      )}\r\n    </text>\r\n  )\r\n}\r\n\r\nexport default DistrictLabel\r\n","import React from 'react'\r\nimport { Spring, SpringProps, config } from 'react-spring'\r\n\r\ntype Props = {} & SpringProps\r\n\r\nconst AnimatePosition: React.SFC<Props> = ({ children, ...rest }) => {\r\n  return (\r\n    <Spring config={{ ...config.gentle, precision: 0.5, velocity: 80 }} {...rest}>\r\n      {children}\r\n    </Spring>\r\n  )\r\n}\r\n\r\nexport default AnimatePosition\r\n","import * as React from 'react'\r\nimport { TooltipProps } from 'recharts'\r\nimport './districtRankingTooltip.css'\r\n\r\nclass DistrictRankingTooltip extends React.Component<TooltipProps> {\r\n\r\n  constructor(props: TooltipProps) {\r\n    super(props)\r\n  }\r\n\r\n  getStyle(id: string): React.CSSProperties {\r\n    if (id === '99') {\r\n      return {\r\n        borderStyle: 'solid',\r\n        borderWidth: '1px',\r\n        borderColor: 'black'\r\n      }\r\n    }\r\n    return {\r\n      borderStyle: 'solid',\r\n      borderWidth: '1px',\r\n      borderColor: '#FFD300'\r\n    }\r\n  }\r\n\r\n  getDistrictName(rankName: string): string {\r\n    if (rankName.includes('X')) {\r\n      return 'Kanton Basel-Stadt'\r\n    }\r\n    return rankName.split('.').slice(1).join().trim();\r\n  }\r\n\r\n  render() {\r\n    const {active} = this.props;\r\n\r\n    if (active) {\r\n      const {payload} = this.props;\r\n      let style = this.getStyle(payload[0].payload.id);\r\n      let value = payload[0].value.toString().replace('.', ',')\r\n      return (\r\n        <div className=\"districtRankingTooltip\">\r\n          <svg width={155} height={74} viewBox=\"-10 -4 190 80\" style={{position: 'absolute', zIndex: -1}}>\r\n            <rect x=\"0\" y=\"0\" rx=\"5\" ry=\"5\" width=\"155\" height=\"74\"\r\n                  style={{fill: 'white', stroke: style.borderColor, strokeWidth: 1}}/>\r\n            <rect x=\"-4\" y=\"27\" width=\"10\" height=\"10\" transform=\"rotate(45 -4 32)\"\r\n                  style={{fill: 'white', stroke: style.borderColor, strokeWidth: 1}}/>\r\n            <rect x=\"-2\" y=\"26\" width=\"11\" height=\"11\" transform=\"rotate(45 -2 31)\"\r\n                  style={{fill: 'white', stroke: 'white', strokeWidth: 1}}/>\r\n          </svg>\r\n\r\n          <div style={{padding: 5, paddingLeft: 20}}>\r\n            <p>Berechneter Wert<br />\r\n            {this.getDistrictName(payload[0].payload.name)}<br />\r\n            {value} </p>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    return null;\r\n  }\r\n};\r\n\r\nexport default DistrictRankingTooltip;\r\n  ","import { AxisDomain } from 'recharts';\r\n\r\nexport const asDomain = (ticks: number[])\r\n  : [AxisDomain, AxisDomain] => {\r\n  if (ticks.length === 0) return [0, 0]\r\n  else return [ticks[0], ticks[ticks.length - 1]]\r\n}\r\n\r\nexport const getTicks = (\r\n  data: { id: string; name: string; value: number }[]\r\n)\r\n  : number[] => {\r\n  const minMax = getMinMax(data)\r\n  const ticks = getBaseTicks(minMax)\r\n  return ticks\r\n}\r\n\r\nconst getBaseTicks = (minMax: { min: Number, max: Number })\r\n  : number[] => {\r\n\r\n  const min = minMax.min\r\n  const max = minMax.max\r\n\r\n  const getDecimals = (n: Number): Number => {\r\n    const nAsString = n.toString().replace('.', '').replace('-', '')\r\n    if (nAsString.charAt(0) !== '0') {\r\n      return 0\r\n    } else {\r\n      let decimal = 1\r\n      while (nAsString.charAt(decimal) === '0') {\r\n        decimal++\r\n      }\r\n\r\n      return decimal\r\n    }\r\n  }\r\n\r\n\r\n  const getSmallerDecimal = (): Number => {\r\n    const minDecimal = getDecimals(min)\r\n    const maxDecimal = getDecimals(max)\r\n    if (minDecimal > maxDecimal) {\r\n      return maxDecimal\r\n    }\r\n    return minDecimal\r\n  }\r\n\r\n  const decimals = getSmallerDecimal()\r\n  const minTick = (): number => {\r\n    if (min === -1 ) {\r\n      return -1\r\n    }\r\n    return Number((min.valueOf() - Math.pow(10, - decimals.valueOf())).toFixed(decimals.valueOf()))\r\n  }\r\n\r\n  const maxTick = (): number => {\r\n    if (max === 1) {\r\n      return 1\r\n    } else {\r\n      const roundingErrorCorrection = Math.pow(10, -decimals)\r\n      return Number((Number(max.toFixed(decimals.valueOf())) + roundingErrorCorrection).toFixed(decimals.valueOf()))\r\n    }\r\n  }\r\n\r\n  const withMiddleTick = (minTick: number, maxTick: number): number[] => {\r\n    let diff = 0\r\n    if (minTick === maxTick) {\r\n      const offset = Math.pow(10, decimals.valueOf())\r\n      return [minTick - offset, minTick, maxTick + offset]\r\n    }\r\n\r\n    if (minTick + Math.pow(10, decimals.valueOf()).toFixed(decimals.valueOf()) === maxTick.toString()) {\r\n      const offset = Math.pow(10, decimals.valueOf())\r\n      return [minTick - offset, minTick, maxTick]\r\n    }\r\n\r\n    if (minTick < 0 && maxTick > 0) {\r\n      diff = Math.abs(minTick) + maxTick\r\n    } else {\r\n      diff = Math.abs(Math.abs(minTick) - Math.abs(maxTick))\r\n    }\r\n    const middleTick = Number((minTick + diff / 2).toFixed(decimals.valueOf()))\r\n    return [minTick, middleTick, maxTick]\r\n  }\r\n\r\n  return withMiddleTick(minTick(), maxTick())\r\n}\r\n\r\nconst getMinMax = (\r\n  data: { id: string; name: string; value: number }[]\r\n): { min: number, max: number } => {\r\n  const values = data.map(d => d.value)\r\n  const min = Math.min(...values)\r\n  const max = Math.max(...values)\r\n  if (values.length === 0) return {min: 0, max: 0}\r\n  return {min: min, max: max}\r\n}\r\n\r\n","import * as React from 'react'\r\nimport { isEqual, round } from 'lodash'\r\nimport { connect } from 'react-redux'\r\nimport { Bar, BarChart, CartesianGrid, Cell, Label, Tooltip, XAxis, YAxis } from 'recharts'\r\nimport { Rootstate } from '../../state'\r\nimport { getSortedGlobalRanking } from '../../state/observation/selectors'\r\nimport { Rank } from '../../state/observation/types'\r\nimport { Indicator } from '../../state/indicator/types'\r\nimport { allDistrictsById } from '../../state/district/selectors'\r\nimport { getSelectedIndicators } from '../../state/indicator/selectors'\r\nimport { District } from '../../state/district/types'\r\nimport DistrictLabel from './DistrictLabel'\r\nimport AnimatePosition from './AnimatePosition'\r\nimport { getRankPosition, convertDecimalPoint } from '../../helpers'\r\nimport DistrictRankingTooltip from './DistricRankingTooltip'\r\nimport './districtRanking.css'\r\nimport { asDomain, getTicks } from './util';\r\n\r\nexport interface PublicProps {\r\n  className?: string\r\n}\r\n\r\ninterface InjectedProps {\r\n  ranks: Rank[]\r\n  districts: { [key: string]: District }\r\n  indicators: Indicator[]\r\n}\r\n\r\nexport type Positions = {\r\n  [id: string]: number\r\n}\r\n\r\ninterface StateProps {\r\n  positions: Positions\r\n}\r\n\r\n\r\nclass DistrictRanking extends React.Component<PublicProps & InjectedProps, StateProps> {\r\n  constructor(props: any) {\r\n    super(props)\r\n    this.state = {positions: {}}\r\n  }\r\n\r\n  render() {\r\n    const {districts, ranks, indicators} = this.props\r\n    let rankNum = 0\r\n    const data = ranks.map((rank, i) => {\r\n      if (rank.districtId !== '99') {\r\n        rankNum = rankNum + 1\r\n        return {\r\n          name: `${rankNum < 10 ? ' ' : ''}${rankNum}. ${districts[rank.districtId].name}`,\r\n          value: round(rank.value, 2),\r\n          id: rank.districtId,\r\n        }\r\n      }\r\n      // Basel-Stadt without rank (number), see handling in DistrictLabel\r\n      return {\r\n        name: `X ${districts[rank.districtId].name}`,\r\n        value: round(rank.value, 2),\r\n        id: rank.districtId,\r\n      }\r\n    })\r\n\r\n    const positions = getRankPosition(data)\r\n    const positionsBefore = this.state.positions\r\n    const ticks = getTicks(data)\r\n    const domain = asDomain(ticks)\r\n    return (\r\n      <div className=\"left-grid district-ranking\">\r\n        <div className=\"container\" >\r\n          {/* District ranking bar plot */}\r\n          <AnimatePosition\r\n            from={positionsBefore ? positionsBefore : positions}\r\n            to={positions}\r\n            onRest={() =>\r\n              !isEqual(positionsBefore, positions) ? this.setState({positions: positions}) : {}\r\n            }\r\n          >\r\n            {props => {\r\n              return (\r\n                <BarChart data={data} width={285} height={530} layout=\"vertical\">\r\n                  <CartesianGrid/>\r\n                  {/* TODO: Check color of bar*/}\r\n                  <XAxis\r\n                    axisLine={false}\r\n                    domain={domain}\r\n                    interval=\"preserveStart\"\r\n                    type=\"number\"\r\n                    tickLine={false}\r\n                    ticks={ticks}\r\n                    tickFormatter={tick =>\r\n                      tick > 0 ? convertDecimalPoint(tick.toString().substr(0, 4)) : convertDecimalPoint(tick.toString().substr(0, 5))\r\n                    }\r\n                  />\r\n                  <Tooltip offsetX={-195} offsetY={-37} content={<DistrictRankingTooltip/>} />\r\n                  <YAxis\r\n                    width={135}\r\n                    dataKey=\"name\"\r\n                    type=\"category\"\r\n                    orientation=\"right\"\r\n                    axisLine={false}\r\n                    tick={false}\r\n                    tickLine={false}\r\n                  >\r\n                    {data.map(entry => {\r\n                      return (\r\n                        <Label\r\n                          content={DistrictLabel}\r\n                          key={entry.id}\r\n                          x={150}\r\n                          y={props[entry.id]}\r\n                          value={entry.name}\r\n                        />\r\n                      )\r\n                    })}\r\n                  </YAxis>\r\n                  <Bar dataKey=\"value\">\r\n                    {data.map((entry, index) =>\r\n                      entry.id === '99' ? (\r\n                        <Cell key={`cell-${index}`} fill={'black'} y={props[entry.id]}/>\r\n                      ) : (\r\n                        <Cell key={`cell-${index}`} fill={'#FFD300'} y={props[entry.id]}/>\r\n                      )\r\n                    )}\r\n                  </Bar>\r\n                </BarChart>\r\n              )\r\n            }}\r\n          </AnimatePosition>\r\n          <div className=\"districtRankingExplanation\">\r\n            Berechnungsergebnis aus:\r\n            <ul>\r\n              {indicators.map(indicator => {\r\n                return (\r\n                  <React.Fragment key={indicator.id}>\r\n                    <li>\r\n                      {indicator.name} mit Gewicht {convertDecimalPoint(indicator.weight * indicator.valuation)}\r\n                    </li>\r\n                  </React.Fragment>\r\n                )\r\n              })} \r\n            </ul>\r\n            <div className=\"method-explanation-header\">Methodischer Hinweis</div>\r\n            <div className=\"method-explanation-content\"> Die L√§nge der Balken entspricht nicht dem Wert, der im Tooltip angezeigt wird, sondern ergibt sich durch Min-Max-Normalisierung der einzelnen Indikatoren. Der h√∂chste Wert pro Indikator wird auf 1 skaliert, der niedrigste Wert auf 0.</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: Rootstate) => ({\r\n  ranks: getSortedGlobalRanking(state),\r\n  districts: allDistrictsById(state),\r\n  indicators: getSelectedIndicators(state),\r\n})\r\n\r\nexport default connect(mapStateToProps)(DistrictRanking)\r\n","import * as React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Rootstate } from '../../state'\r\nimport { getSelectedIndicators } from '../../state/indicator/selectors'\r\nimport { Indicator } from '../../state/indicator/types'\r\nimport NavButton from '../customElements/NavButton'\r\nimport './navigation.css'\r\nimport { compose } from 'recompose'\r\n\r\nexport interface Props {\r\n  selectedIndicators: Indicator[]\r\n}\r\n\r\nconst AppNaviation: React.SFC<Props> = ({ selectedIndicators }) => {\r\n  const disabled = selectedIndicators.length <= 0\r\n\r\n  return (\r\n    <div className=\"right-grid navigation\">\r\n      <NavButton className=\"nav-button\" variant=\"contained\" to={'/'}>\r\n        Auswahl √§ndern\r\n      </NavButton>\r\n\r\n      <NavButton className=\"nav-button\" disabled={disabled} variant=\"contained\" to={'ranking'}>\r\n        Bewertung aÃàndern\r\n      </NavButton>\r\n\r\n      <NavButton className=\"nav-button\" disabled={disabled} variant=\"contained\" to={'/importance'}>\r\n        Gewichtung aÃàndern\r\n      </NavButton>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state: Rootstate) => ({\r\n  selectedIndicators: getSelectedIndicators(state),\r\n})\r\n\r\nexport default compose<Props, {}>(\r\n  connect(\r\n    mapStateToProps,\r\n    undefined\r\n  )\r\n)(AppNaviation)\r\n","import * as React from 'react'\r\nimport * as _ from 'lodash'\r\nimport { Rootstate } from '../../../state'\r\nimport { connect } from 'react-redux'\r\nimport { Grid, Icon } from '@material-ui/core'\r\nimport { Indicator, NegativePositive, WeightNumber } from '../../../state/indicator/types'\r\nimport { getChoosableIndicators } from '../../../state/indicator/selectors'\r\nimport './legend.css'\r\n\r\nimport {\r\n  deselectIndicator,\r\n  replaceIndicatorWith,\r\n  selectIndicator,\r\n  setNegativeValuation,\r\n  setPositiveValuation,\r\n  setWeight,\r\n} from '../../../state/indicator/actions'\r\n\r\nimport 'rc-slider/assets/index.css'\r\nimport Slider from 'rc-slider'\r\nimport { getClassNameNegPosBorder, getClassNameSelectedUnselected, getColor, getLabelBy, } from '../../../helpers'\r\n\r\ninterface Props {\r\n  choosableIndicators: Indicator[]\r\n\r\n  positiveValuation(id: string): void\r\n\r\n  negativeValuation(id: string): void\r\n\r\n  setIndicatorWeight(id: string, weight: WeightNumber): void\r\n\r\n  deselect(id: string): void\r\n\r\n  selectEmptyIndicator(id: string): void\r\n\r\n  // curried function\r\n  replaceIndicator(selectId: string, replaceId: string): void\r\n}\r\n\r\nexport interface PublicProps {\r\n  indicator?: Indicator\r\n}\r\n\r\nconst LegendItem: React.SFC<Props & PublicProps> = ({\r\n                                                      indicator,\r\n                                                      negativeValuation,\r\n                                                      positiveValuation,\r\n                                                      setIndicatorWeight,\r\n                                                      deselect,\r\n                                                      choosableIndicators,\r\n                                                      replaceIndicator,\r\n                                                      selectEmptyIndicator,\r\n                                                    }) => {\r\n  // normal rendering\r\n  if (indicator) {\r\n    const sliderStyle = getColor(indicator.valuation === NegativePositive.Positive)\r\n\r\n    return (\r\n      <div key={indicator.id} className={'legend-container' + getClassNameNegPosBorder(indicator)}>\r\n        <Grid container>\r\n          <Grid item xs={2}>\r\n            <div className=\"clear-icon-container\" onClick={() => deselect(indicator.id)}>\r\n              <Icon className={'clear-icon'}>\r\n                clear{' '}\r\n              </Icon>\r\n            </div>\r\n          </Grid>\r\n          <Grid item xs={10} style={{minHeight: 35}}>\r\n            <div\r\n              className={'legend-select'}\r\n            >\r\n              <select style={{height: '100%', width: '100%' , border: 'none'}}\r\n                onChange={event => replaceIndicator(event.target.value, indicator.id)}\r\n                value={indicator.id}\r\n              >\r\n                <option value={indicator.id}>{indicator.name}</option>\r\n                {choosableIndicators.map(indic => (\r\n                  <option key={indic.id} value={indic.id}>\r\n                    {indic.name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          </Grid>\r\n\r\n          <Grid item xs={2}>\r\n            <Grid container>\r\n              <Grid item xs={12}>\r\n                <div className=\"rate-positive\" onClick={() => positiveValuation(indicator.id)}>\r\n                  <Icon\r\n                    className={\r\n                      'rating-icon ' + getClassNameSelectedUnselected(indicator, 'positive')\r\n                    }\r\n                  >\r\n                    mood\r\n                  </Icon>\r\n                </div>\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <div className=\"rate-negativ\" onClick={() => negativeValuation(indicator.id)}>\r\n                  <Icon\r\n                    className={\r\n                      'rating-icon' + getClassNameSelectedUnselected(indicator, 'negative')\r\n                    }\r\n                  >\r\n                    mood_bad\r\n                  </Icon>\r\n                </div>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid item className=\"weight\" xs={10}>\r\n            <Grid container direction={'column'} justify={'space-around'}>\r\n              <Grid item xs={12} style={{minHeight: 30}}>\r\n                <div className=\"weight-label\">{getLabelBy(indicator.weight)}</div>\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n\r\n                <Slider\r\n                  min={0.25}\r\n                  max={1.0}\r\n                  step={0.25}\r\n                  value={indicator.weight}\r\n                  marks={{\r\n                    0.25: '',\r\n                    0.5: '',\r\n                    0.75: '',\r\n                    1: '',\r\n                  }}\r\n                  activeDotStyle={sliderStyle}\r\n                  trackStyle={sliderStyle}\r\n                  handleStyle={sliderStyle}\r\n                  style={{\r\n                    paddingRight: '5px',\r\n                    marginTop: '5px',\r\n                  }}\r\n                  onChange={value => setIndicatorWeight(indicator.id, value)}\r\n                />\r\n\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // empty selector\r\n  // const sliderStyle = { borderColor: '#aaa', backgroundColor: '#ccc' }\r\n  return (\r\n    <div key={'emptyLegend'} className={'legend-container neutral-border'}>\r\n      <Grid container>\r\n        <Grid item xs={12}>\r\n          <select\r\n            className=\"legend-select-empty\"\r\n            onChange={event =>\r\n              event.target.value !== 'empty' ? selectEmptyIndicator(event.target.value) : null\r\n            }\r\n            value=\"empty\"\r\n          >\r\n            <option value=\"empty\">Indikator ausw√§hlen</option>\r\n            {choosableIndicators.map(indic => (\r\n              <option key={indic.id} value={indic.id}>\r\n                {indic.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n\r\n          {/* <div className={'legend-name'}> </div> */}\r\n        </Grid>\r\n        <Grid item xs={2}>\r\n          <Grid container>\r\n            <Grid item xs={12}>\r\n              <div className=\"rate-positive\">\r\n                <Icon className={'rating-icon positive-unselected-disabled'}>mood</Icon>\r\n              </div>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <div className=\"rate-negativ\">\r\n                <Icon className={'rating-icon negative-unselected-disabled'}>mood_bad</Icon>\r\n              </div>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n        <Grid item className=\"weight\" xs={10}>\r\n          <Grid container direction={'column'} justify={'space-around'}>\r\n            <Grid item xs={12}>\r\n              <Slider\r\n                min={0.25}\r\n                max={1.0}\r\n                step={0.25}\r\n                value={0}\r\n                marks={{\r\n                  0.25: '',\r\n                  0.5: '',\r\n                  0.75: '',\r\n                  1: '',\r\n                }}\r\n                disabled={true}\r\n                style={{\r\n                  paddingRight: '5px',\r\n                  marginTop: '5px',\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <div className=\"weight-label\">{}</div>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state: Rootstate, props: PublicProps) => ({\r\n  ...props,\r\n  choosableIndicators: getChoosableIndicators(state),\r\n})\r\n\r\nconst mapDispatchToProps: Partial<Props> = {\r\n  positiveValuation: setPositiveValuation,\r\n  negativeValuation: setNegativeValuation,\r\n  setIndicatorWeight: setWeight,\r\n  deselect: deselectIndicator,\r\n  replaceIndicator: _.curry(replaceIndicatorWith),\r\n  selectEmptyIndicator: selectIndicator,\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(LegendItem)\r\n","import * as React from 'react'\r\nimport { Rootstate } from '../../../state'\r\nimport { connect } from 'react-redux'\r\nimport { Indicator } from '../../../state/indicator/types'\r\nimport LegendItem from './LegendItem'\r\nimport { getChoosableIndicators } from '../../../state/indicator/selectors'\r\nimport { compose } from 'recompose'\r\n\r\nexport interface EnhancedProps {\r\n  choosableIndicators: Indicator[]\r\n  selectedIndicators: Indicator[]\r\n}\r\n\r\nexport interface StateFromProps {\r\n  selectedIndicators: Indicator[]\r\n}\r\n\r\nconst Legend = ({ choosableIndicators, selectedIndicators }: EnhancedProps) => {\r\n  return (\r\n    <div className=\"parallel-line-plot-legend\">\r\n      {selectedIndicators.map(i => {\r\n        return <LegendItem key={i.id} indicator={i} />\r\n      })}\r\n      {/* empty LegendItem to add additional indicator */}\r\n      {choosableIndicators.length !== 0 ? <LegendItem key=\"emptyIndicator\" /> : null}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state: Rootstate, props: StateFromProps) => ({\r\n  selectedIndicators: props.selectedIndicators,\r\n  choosableIndicators: getChoosableIndicators(state),\r\n})\r\n\r\nexport default compose<EnhancedProps, StateFromProps>(\r\n  connect(\r\n    mapStateToProps,\r\n    undefined\r\n  )\r\n)(Legend)\r\n","export const DISTRICT_UPDATE = 'district/UPDATE';\r\nexport type DISTRICT_UPDATE = typeof DISTRICT_UPDATE;\r\n\r\nexport const DISTRICT_HIGHLIGHT = 'district/TOGGLE_SELECTION';\r\nexport type DISTRICT_HIGHLIGHT = typeof DISTRICT_HIGHLIGHT;\r\n\r\nexport const DISTRICT_HIDE = 'district/HIDE';\r\nexport type DISTRICT_HIDE = typeof DISTRICT_HIDE;\r\n\r\nexport const DISTRICT_ON_HOVER = 'district/ON_HOVER';\r\nexport type DISTRICT_ON_HOVER = typeof DISTRICT_ON_HOVER;\r\n\r\nexport const DISTRICT_OFF_HOVER = 'district/OFF_HOVER';\r\nexport type DISTRICT_OFF_HOVER = typeof DISTRICT_OFF_HOVER;","import * as React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { TooltipProps } from 'recharts'\r\nimport { Indicator, NegativePositive } from '../../state/indicator/types'\r\nimport { District } from '../../state/district/types'\r\nimport { Observation } from '../../state/observation/types'\r\nimport { Rootstate } from '../../state'\r\nimport { allDistricts } from '../../state/district/selectors'\r\nimport { getAllObservations } from '../../state/observation/selectors'\r\nimport { getColor } from '../../helpers'\r\nimport './indicatorTooltip.css'\r\n\r\nconst getObservationText = (indicator: Indicator, observation: Observation): any => {\r\n  let value = observation.value_txt\r\n  return <p style={getParagraphStyle(indicator, false)}>{value}</p>\r\n}\r\nconst getParagraphStyle = (indicator: Indicator, top: boolean): React.CSSProperties => {\r\n  const style = {\r\n    margin: 0,\r\n    paddingLeft: 20\r\n  }\r\n  /*\r\n  This is a special hack have 'Anteil Einfamilienh√§user 2017' with a paddingTop of 15 \r\n  but 'Erwerbst√§tigenqutoe 2012-2016' with a padding of 9 because both have the length \r\n  of 28, but the browser will write 'Erwerbst√§tigenqutoe 2012-2016' in two lines\r\n  and 'Anteil Einfamilienh√§user 2017' in one.\r\n  */\r\n  let size = (indicator.name + indicator.yearText).length;\r\n  if (indicator.yearText.indexOf('-') > 0) {\r\n    size += 1;\r\n  }\r\n  if (size <= 28 && top) {\r\n    style['paddingTop'] = 15\r\n    return style\r\n  }\r\n  if (top) {\r\n    style['paddingTop'] = 9\r\n  }\r\n  return style\r\n}\r\n\r\nconst getIndicatorYear = (indicator: Indicator): string => {\r\n  if (indicator.yearText.includes('-')) {\r\n    let yearText = indicator.yearText;\r\n    return yearText.replace('-', '\\u2011')\r\n  }\r\n  return indicator.yearText\r\n}\r\n\r\nexport interface PublicProps extends TooltipProps {\r\n  indicator: Indicator,\r\n  districts: District[],\r\n  observations: Observation[],\r\n}\r\n\r\nclass IndicatorTooltip extends React.Component<PublicProps> {\r\n\r\n  constructor(props: PublicProps) {\r\n    super(props)\r\n  }\r\n\r\n  getDistrictByName(name: string): District {\r\n    return this.props.districts.filter(district => district.name === name)[0]\r\n  }\r\n\r\n  getObservation(indicatorId: string, districtId: string): Observation {\r\n    return this.props.observations.filter(observation => observation.districtId === districtId\r\n      && observation.indicatorId === indicatorId)[0]\r\n  }\r\n\r\n  getRectStyle(indicator: Indicator): any {\r\n    const color = getColor(indicator.valuation === NegativePositive.Positive)\r\n    return {\r\n      fill: 'white',\r\n      stroke: color.borderColor,\r\n      strokeWidth: 1\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {active} = this.props;\r\n    if (active) {\r\n      const {payload, indicator} = this.props;\r\n      const district = this.getDistrictByName(payload[0].payload.name)\r\n      const observation = this.getObservation(indicator.id, district.id);\r\n      const style = this.getRectStyle(indicator)\r\n      return (\r\n        <div className=\"indicatorTooltip\">\r\n          <svg width={190} height={74} viewBox=\"-10 -4 200 80\" style={{position: 'absolute', zIndex: -1}}>\r\n            <rect x=\"0\" y=\"0\" rx=\"5\" ry=\"5\" width=\"190\" height=\"74\" style={style}/>\r\n            <rect x=\"-4\" y=\"27\" width=\"10\" height=\"10\" transform=\"rotate(45 -4 32)\" style={style}/>\r\n            <rect x=\"-2\" y=\"26\" width=\"11\" height=\"11\" transform=\"rotate(45 -2 31)\"\r\n                  style={{fill: 'white', stroke: 'white', strokeWidth: 1}}/>\r\n          </svg>\r\n          <p style={getParagraphStyle(indicator, true)}> {indicator.name} {getIndicatorYear(indicator)} </p>\r\n          <p style={getParagraphStyle(indicator, false)}> {district.name} </p>\r\n          {getObservationText(indicator, observation)}\r\n        </div>\r\n      );\r\n    }\r\n    return null;\r\n  }\r\n};\r\n\r\nconst mapStateToProps = (state: Rootstate) => ({\r\n  districts: allDistricts(state),\r\n  observations: getAllObservations(state)\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps)(IndicatorTooltip);\r\n\r\n  ","import * as React from 'react'\r\nimport { compose } from 'recompose'\r\nimport { connect } from 'react-redux'\r\nimport { Bar, BarChart, CartesianGrid, Tooltip, XAxis, YAxis } from 'recharts'\r\nimport { round } from 'lodash'\r\nimport { Rank } from '../../state/observation/types'\r\nimport { Rootstate } from '../../state'\r\nimport { makeGetIndicatorRanking } from '../../state/observation/selectors'\r\nimport { District } from '../../state/district/types'\r\nimport { Indicator, NegativePositive } from '../../state/indicator/types'\r\nimport { allDistrictsById } from '../../state/district/selectors'\r\nimport { getColor, convertDecimalPoint } from '../../helpers'\r\nimport IndicatorTooltip from './IndicatorTooltip'\r\n\r\nexport interface IndicatorPlotPublicProps {\r\n  // indicator id\r\n  indicator: Indicator\r\n}\r\n\r\n\r\ninterface IndicatorProps {\r\n  indicator: Indicator\r\n  districts: {\r\n    [key\r\n      :\r\n      string\r\n      ]:\r\n      District\r\n  }\r\n  ranks: Rank[]\r\n}\r\n\r\nconst IndicatorPlot: React.SFC<IndicatorProps> = ({districts, indicator, ranks}) => {\r\n  const data = ranks.map(rank => {\r\n    return {\r\n      name: districts[rank.districtId].name,\r\n      value: round(rank.value, 2),\r\n    }\r\n  })\r\n\r\n  const color = getColor(indicator.valuation === NegativePositive.Positive)\r\n\r\n  const ticks = [0, 0.25, 0.5, 0.75, 1]\r\n\r\n  return (\r\n    <div className=\"bar-plot\" key={indicator.id}>\r\n      <BarChart data={data} layout=\"vertical\" width={190} height={530}>\r\n        <CartesianGrid/>\r\n        // TODO: Check color of bar\r\n        <XAxis\r\n          axisLine={false}\r\n          domain={[0, 1]}\r\n          type=\"number\"\r\n          tickLine={false}\r\n          ticks={ticks}\r\n          tickFormatter={tick => convertDecimalPoint(ticks.indexOf(tick) % 2 === 0 ? tick : '')}\r\n        />\r\n        <Tooltip offsetX={-190} offsetY={-37}\r\n                 content={<IndicatorTooltip indicator={indicator}/>}/>\r\n        {\r\n          <YAxis\r\n            dataKey=\"name\"\r\n            type=\"category\"\r\n            orientation=\"right\"\r\n            axisLine={false}\r\n            hide={true}\r\n            tickLine={false}\r\n          />\r\n        }\r\n        <Bar dataKey=\"value\" fill={color.backgroundColor}/>\r\n      </BarChart>\r\n    </div>\r\n  )\r\n}\r\n\r\n// Each IndicatorPlot receives their own selector, only updates when something relevant changes\r\nconst makeMapStateToProps = () => {\r\n  const getIndicatorRanking = makeGetIndicatorRanking()\r\n  const mapStateToProps = (state: Rootstate, props: IndicatorPlotPublicProps): IndicatorProps => ({\r\n    ranks: getIndicatorRanking(state, {id: props.indicator.id}),\r\n    districts: allDistrictsById(state),\r\n    ...props,\r\n  })\r\n  return mapStateToProps\r\n}\r\n\r\nexport default compose<IndicatorProps, IndicatorPlotPublicProps>(\r\n  connect(\r\n    makeMapStateToProps,\r\n    undefined\r\n  )\r\n)(IndicatorPlot)\r\n","import * as React from 'react'\r\nimport { Bar, BarChart, CartesianGrid, XAxis, YAxis } from 'recharts'\r\n\r\nexport interface EmptyIndicatorPlotProps {}\r\n\r\nconst EmptyIndicatorPlot: React.SFC<EmptyIndicatorPlotProps> = ({}) => {\r\n  const data: any = [] // }, { value: , name: 'test' }]\r\n\r\n  const ticks = [0, 0.25, 0.5, 0.75, 1]\r\n  return (\r\n    <div className=\"bar-plot bar-plot-empty\">\r\n      <BarChart data={data} layout=\"vertical\" width={190} height={530}>\r\n        <CartesianGrid />\r\n\r\n        <XAxis\r\n          axisLine={false}\r\n          domain={[0, 1]}\r\n          type=\"number\"\r\n          tickLine={false}\r\n          ticks={ticks}\r\n          tickFormatter={tick => (ticks.indexOf(tick) % 2 === 0 ? tick : '')}\r\n        />\r\n        {\r\n          <YAxis\r\n            dataKey=\"name\"\r\n            type=\"category\"\r\n            orientation=\"right\"\r\n            axisLine={false}\r\n            hide={true}\r\n            tickLine={false}\r\n          />\r\n        }\r\n        <Bar dataKey=\"value\" />\r\n      </BarChart>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default EmptyIndicatorPlot\r\n","import * as React from 'react'\r\nimport * as _ from 'lodash'\r\nimport { connect } from 'react-redux'\r\nimport { Rootstate } from '../../state'\r\nimport { CartesianGrid, Line, LineChart, ResponsiveContainer } from 'recharts'\r\nimport { LineRank, Rank } from '../../state/observation/types'\r\nimport { District } from '../../state/district/types'\r\nimport { allDistricts } from '../../state/district/selectors'\r\nimport { getLineRanking } from '../../state/observation/selectors'\r\nimport { getSelectedIndicators, getChoosableIndicators } from '../../state/indicator/selectors'\r\nimport { Indicator } from '../../state/indicator/types'\r\nimport { getRankingColor } from '../../helpers'\r\nimport {\r\n  _highlightDistrict,\r\n  _hideDistrict,\r\n  _onHover,\r\n  _offHover,\r\n} from '../../state/district/actions'\r\nimport CustomDot from './plotElements/CustomDot'\r\nimport { compose } from 'recompose'\r\nimport IndicatorPlot from '../barplot/IndicatorPlot'\r\nimport EmptyIndicatorPlot from '../barplot/EmptyIndicatorPlot'\r\n\r\nexport interface PublicProps {}\r\n\r\nexport interface Props {\r\n  districts: District[]\r\n  rankingData: Rank[]\r\n  lineRanking: LineRank[]\r\n  selectedIndicators: Indicator[]\r\n  choosableIndicators: Indicator[]\r\n\r\n  highlightDistrict(id: string): void\r\n  hideDistrict(id: string): void\r\n  onHover(id: string): void\r\n  offHover(id: string): void\r\n}\r\n\r\nconst getColor = (lineRank: LineRank[], district: District): string => {\r\n  const r = _.find(lineRank, rank => rank.objectId === district.id)\r\n  if ((district.viewOptions.highlight || district.viewOptions.hover) && r) {\r\n    return getRankingColor(r)\r\n  } else {\r\n    return '#A0A0A0'\r\n  }\r\n}\r\n\r\nconst getLineStroke = (district: District): number => {\r\n  if (district.viewOptions.highlight || district.viewOptions.hover) {\r\n    return 2\r\n  }\r\n  return 1\r\n}\r\n\r\nconst getWidth = (indicators: Indicator[]): number => {\r\n  const elementWidth = 190\r\n  const elementMargin = 5\r\n  return (elementWidth + 2 * elementMargin) * (indicators.length - 1)\r\n}\r\n\r\nconst parallelLinePlot = (props: Props) => {\r\n  const {\r\n    districts,\r\n    rankingData,\r\n    lineRanking,\r\n    selectedIndicators,\r\n    highlightDistrict,\r\n    hideDistrict,\r\n    onHover,\r\n    offHover,\r\n  } = props\r\n\r\n  return (\r\n    <ResponsiveContainer\r\n      className=\"parallel-line-plot-chart\"\r\n      width={getWidth(selectedIndicators)}\r\n      height={600}\r\n    >\r\n      <LineChart data={rankingData} height={600}>\r\n        <CartesianGrid stroke=\"#d9d9d9\" strokeDasharray=\"2\" />\r\n        {districts.map(d => (\r\n          <Line\r\n            /*dots disappearing https://github.com/recharts/recharts/issues/804*/\r\n            isAnimationActive={false}\r\n            key={d.id}\r\n            type=\"monotone\"\r\n            dataKey={d.name}\r\n            stroke={getColor(lineRanking, d)}\r\n            strokeWidth={getLineStroke(d)}\r\n            onClick={() => (d.viewOptions.highlight ? hideDistrict(d.id) : highlightDistrict(d.id))}\r\n            onMouseEnter={() => onHover(d.id)}\r\n            onMouseLeave={() => offHover(d.id)}\r\n            dot={\r\n              <CustomDot\r\n                onHover={() => onHover(d.id)}\r\n                offHover={() => offHover(d.id)}\r\n                onClick={() =>\r\n                  d.viewOptions.highlight ? hideDistrict(d.id) : highlightDistrict(d.id)\r\n                }\r\n              />\r\n            }\r\n          />\r\n        ))}\r\n      </LineChart>\r\n    </ResponsiveContainer>\r\n  )\r\n}\r\n\r\nconst barPlot: React.SFC<Props> = props => {\r\n  /*\r\n  console.log(props.rankingData)\r\n  const data = [\r\n    { name: 'Page A', uv: 4000, pv: 2400, amt: 2400 },\r\n    { name: 'Page B', uv: 3000, pv: 1398, amt: 2210 },\r\n    { name: 'Page C', uv: 2000, pv: 9800, amt: 2290 },\r\n    { name: 'Page D', uv: 2780, pv: 3908, amt: 2000 },\r\n    { name: 'Page E', uv: 1890, pv: 4800, amt: 2181 },\r\n    { name: 'Page F', uv: 2390, pv: 3800, amt: 2500 },\r\n    { name: 'Page G', uv: 3490, pv: 4300, amt: 2100 },\r\n  ]*/\r\n\r\n  return (\r\n    <div className=\"bar-plot-container\">\r\n      {props.selectedIndicators.map(indicator => (\r\n        <IndicatorPlot key={indicator.id} indicator={indicator} />\r\n      ))}\r\n      {props.choosableIndicators.length !== 0 ? <EmptyIndicatorPlot /> : null}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst ChartContainer = (props: Props) => {\r\n  /*  if (!anyUserSelection) {\r\n      lineRanking.slice(0, 3).forEach(r => _highlightDistrict(r.objectId, false))\r\n    }*/\r\n  if (false) {\r\n    return parallelLinePlot(props)\r\n  } else {\r\n    return barPlot(props)\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: Rootstate) => ({\r\n  districts: allDistricts(state),\r\n  selectedIndicators: getSelectedIndicators(state),\r\n  choosableIndicators: getChoosableIndicators(state),\r\n  // rankingData: getSortedGlobalRanking(state), // getRankingDataForChart(state),\r\n  lineRanking: getLineRanking(state),\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n  highlightDistrict: _highlightDistrict,\r\n  hideDistrict: _hideDistrict,\r\n  onHover: _onHover,\r\n  offHover: _offHover,\r\n}\r\n\r\nexport default compose<Props, PublicProps>(\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )\r\n)(ChartContainer)\r\n","import * as constants from './constants'\r\n\r\n/**\r\n * Interface with payload\r\n */\r\nexport interface DoSomehtingWithDistrict {\r\n  type: constants.DISTRICT_UPDATE\r\n}\r\n\r\nexport interface HighlightDistrict {\r\n  type: constants.DISTRICT_HIGHLIGHT\r\n  payload: {\r\n    id: string\r\n    highlight: boolean\r\n  }\r\n}\r\n\r\nexport interface HideDistrict {\r\n  type: constants.DISTRICT_HIDE\r\n  payload: {\r\n    id: string\r\n    highlight: boolean\r\n  }\r\n}\r\n\r\nexport interface OnHover {\r\n  type: constants.DISTRICT_ON_HOVER\r\n  payload: {\r\n    id: string\r\n    hover: boolean\r\n  }\r\n}\r\n\r\nexport interface OffHover {\r\n  type: constants.DISTRICT_OFF_HOVER\r\n  payload: {\r\n    id: string\r\n    hover: boolean\r\n  }\r\n}\r\n\r\nexport type DistrictAction =\r\n  | DoSomehtingWithDistrict\r\n  | HighlightDistrict\r\n  | HideDistrict\r\n  | OnHover\r\n  | OffHover\r\n// type with all interfaces, more with ||\r\n\r\n/**\r\n * Actions with type and payload\r\n */\r\n\r\nexport const _highlightDistrict = (id: string): HighlightDistrict => ({\r\n  type: constants.DISTRICT_HIGHLIGHT,\r\n  payload: {\r\n    id: id,\r\n    highlight: true,\r\n  },\r\n})\r\n\r\nexport const _hideDistrict = (id: string): HideDistrict => ({\r\n  type: constants.DISTRICT_HIDE,\r\n  payload: {\r\n    id: id,\r\n    highlight: false,\r\n  },\r\n})\r\n\r\nexport const _onHover = (id: string): OnHover => ({\r\n  type: constants.DISTRICT_ON_HOVER,\r\n  payload: {\r\n    id: id,\r\n    hover: true,\r\n  },\r\n})\r\n\r\nexport const _offHover = (id: string): OffHover => ({\r\n  type: constants.DISTRICT_OFF_HOVER,\r\n  payload: {\r\n    id: id,\r\n    hover: false,\r\n  },\r\n})\r\n","import * as React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Rootstate } from '../../state'\r\nimport { getSelectedIndicators, getChoosableIndicators } from '../../state/indicator/selectors'\r\nimport Legend from './legend/Legend'\r\nimport { Indicator } from '../../state/indicator/types'\r\nimport { toggleIndicatorSelectionVisibility } from '../../state/util/actions'\r\nimport { Redirect } from 'react-router'\r\nimport './paralell-line-plot.css'\r\nimport ChartContainer from './ChartContainer'\r\n\r\nexport interface Props {\r\n  choosableIndicators: Indicator[]\r\n  selectedIndicators: Indicator[]\r\n\r\n  toggleVisibility(visibility: boolean): void\r\n}\r\n\r\nconst IndicatorRanking: React.SFC<Props> = props => {\r\n  const { choosableIndicators, selectedIndicators } = props\r\n  const additionalColumns = choosableIndicators.length !== 0 ? 1 : 0\r\n\r\n  if (selectedIndicators.length === 0) {\r\n    return <Redirect to=\"/\" />\r\n  }\r\n\r\n  return (\r\n    <div id=\"scroll-area\" className=\"right-grid parallel-line-plot-scroll-area\">\r\n      <div\r\n        className=\"parallel-line-plot-container\"\r\n        style={{ width: (190 + 8) * (selectedIndicators.length + additionalColumns) }}\r\n      >\r\n        <Legend selectedIndicators={selectedIndicators} />\r\n        <ChartContainer />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state: Rootstate) => ({\r\n  selectedIndicators: getSelectedIndicators(state),\r\n  choosableIndicators: getChoosableIndicators(state),\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n  toggleVisibility: toggleIndicatorSelectionVisibility,\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(IndicatorRanking)\r\n","import * as React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Rootstate } from '../state/index'\r\nimport DistrictRanking from '../component/barplot/DistrictRanking'\r\nimport AppNavigation from '../component/navigation/MainNavigation'\r\nimport IndicatorRanking from '../component/parallelLinePlot/IndicatorRanking'\r\nimport { compose } from 'recompose'\r\nimport Disclaimer from '../component/disclaimer/Disclaimer';\r\n// import { Observation } from '../../state/observation/types'\r\n\r\nexport interface Props {}\r\n\r\nconst MainView: React.StatelessComponent<Props> = ({}) => {\r\n  return (\r\n    <div className=\"App main-view\">\r\n      <div className=\"left-grid information\">\r\n      Weitere Anpassungen k√∂nnen entweder direkt an den Kn√∂pfen und Reglern oberhalb der Grafiken\r\n      oder √ºber den entsprechenden Arbeitsschritt vorgenommen werden.\r\n      </div>\r\n      <div className=\"left-grid title\">\r\n        <h2 className=\"district-ranking-title\">Rangliste</h2>\r\n      </div>\r\n      <AppNavigation />\r\n      <div className=\"right-grid indicator-ranking\">\r\n        <IndicatorRanking />\r\n      </div>\r\n      <DistrictRanking />\r\n      <Disclaimer/>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state: Rootstate): Props => ({})\r\n\r\nexport default compose<Props, {}>(connect(mapStateToProps))(MainView)\r\n","import * as React from 'react'\r\nimport { Route } from 'react-router-dom'\r\nimport './App.css'\r\nimport IndicatorSelection from './page/IndicatorSelection'\r\nimport IndicatorRating from './page/IndicatorRating'\r\nimport IndicatorImportance from './page/IndicatorWeight'\r\nimport MainView from './page/MainView'\r\n// import './app.debug.css'\r\n\r\nclass App extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <Route exact path=\"/\" component={IndicatorSelection} />\r\n        <Route exact path=\"/ranking\" component={IndicatorRating} />\r\n        <Route exact path=\"/importance\" component={IndicatorImportance} />\r\n        <Route exact path=\"/plot\" component={MainView} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App\r\n","import * as _ from 'lodash'\r\nimport { IndicatorAction } from './actions'\r\nimport { IndicatorState } from './types'\r\nimport {\r\n  INDICATOR_SELECT,\r\n  INDICATOR_UPDATE,\r\n  INDICATOR_VALUATION,\r\n  INDICATOR_WEIGHT,\r\n  INDICATOR_GROUP_SELECTION,\r\n  REPLACE_SELECTED_INDICATOR,\r\n} from './constants'\r\nimport { Indicator } from './types'\r\n\r\nconst indicatorData = require('./../data/indicator.json')\r\nconst arrayToObjectById = (array: Indicator[]) =>\r\n  array.reduce((obj, item) => {\r\n    obj[item.id] = item\r\n    return obj\r\n  }, {})\r\n\r\n/*\r\n * A reducer needs to be pure and side effect free\r\n * -> one solution is to implement a deep copy with the spread operator\r\n * */\r\n\r\nfunction addIdToOrderedListById(orderedBySelection: string[], newId: string, oldId?: string) {\r\n  // new id already in list\r\n  if (orderedBySelection.indexOf(newId) > 0) {\r\n    return [...orderedBySelection]\r\n  }\r\n\r\n  // no replace -> add at the end of the list\r\n  if (!oldId) {\r\n    return [...orderedBySelection, newId]\r\n  }\r\n\r\n  // check if oldId is really in our list\r\n  if (orderedBySelection.indexOf(oldId) < 0) {\r\n    return [...orderedBySelection, newId]\r\n  }\r\n  return orderedBySelection.map(id => (id === oldId ? newId : id))\r\n}\r\n\r\n/**\r\n * Removes a specific id from the list of ordered indicator ids.\r\n *\r\n * @param orderedBySelection list of ordered indicator ids\r\n * @param idToRemove the id we want to remove from the list\r\n */\r\nfunction removeIdFromOrderedListById(orderedBySelection: string[], idToRemove: string) {\r\n  return _.filter(orderedBySelection, id => id !== idToRemove)\r\n}\r\n\r\nfunction updateOrderedListById(\r\n  orderedBySelection: string[],\r\n  select: boolean,\r\n  newId: string,\r\n  oldId?: string\r\n) {\r\n  if (select) {\r\n    return addIdToOrderedListById(orderedBySelection, newId, oldId)\r\n  }\r\n  return removeIdFromOrderedListById(orderedBySelection, newId)\r\n}\r\n\r\nfunction updetOrderedListBySelectedGroup(\r\n  orderedBySelection: string[],\r\n  select: boolean,\r\n  indicators: Indicator[]\r\n) {\r\n  if (select) {\r\n    let onlyNewEntries = indicators.filter(\r\n      i => _.findIndex(orderedBySelection, e => i.id === e) === -1\r\n    )\r\n    let ids = _.map(onlyNewEntries, 'id')\r\n    return [...orderedBySelection, ...ids]\r\n  }\r\n  return orderedBySelection.filter(id => _.findIndex(indicators, i => id === i.id) === -1)\r\n}\r\n\r\nexport function indicator(\r\n  state: IndicatorState = { byId: arrayToObjectById(indicatorData), orderedBySelection: [] },\r\n  action: IndicatorAction\r\n): IndicatorState {\r\n  switch (action.type) {\r\n    /*\r\n     * Updates all information based on the user selection, see storeState for shape\r\n     */\r\n    case INDICATOR_UPDATE: {\r\n      return {\r\n        ...state,\r\n        byId: {\r\n          ...state.byId,\r\n          [action.payload.id]: {\r\n            ...state.byId[action.payload.id],\r\n            ...action.payload,\r\n          },\r\n        },\r\n        orderedBySelection: updateOrderedListById(\r\n          state.orderedBySelection,\r\n          action.payload.selected,\r\n          action.payload.id\r\n        ),\r\n      }\r\n    }\r\n    /*\r\n     * Sets the selection with the\r\n     */\r\n    case INDICATOR_SELECT: {\r\n      return {\r\n        ...state,\r\n        byId: {\r\n          ...state.byId,\r\n          [action.payload.id]: {\r\n            ...state.byId[action.payload.id],\r\n            ...action.payload,\r\n          },\r\n        },\r\n        orderedBySelection: updateOrderedListById(\r\n          state.orderedBySelection,\r\n          action.payload.selected,\r\n          action.payload.id\r\n        ),\r\n      }\r\n    }\r\n    /*\r\n     * Valuation\r\n     */\r\n    case INDICATOR_VALUATION: {\r\n      return {\r\n        ...state,\r\n        byId: {\r\n          ...state.byId,\r\n          [action.payload.id]: {\r\n            ...state.byId[action.payload.id],\r\n            ...action.payload,\r\n          },\r\n        },\r\n      }\r\n    }\r\n\r\n    /*\r\n     * Weight\r\n     */\r\n    case INDICATOR_WEIGHT: {\r\n      return {\r\n        ...state,\r\n        byId: {\r\n          ...state.byId,\r\n          [action.payload.id]: {\r\n            ...state.byId[action.payload.id],\r\n            ...action.payload,\r\n          },\r\n        },\r\n      }\r\n    }\r\n\r\n    /* Select all of group */\r\n    case INDICATOR_GROUP_SELECTION: {\r\n      let toGroupIndicator = _.filter(\r\n        state.byId,\r\n        indicat => indicat.subject === action.payload.subject\r\n      )\r\n      let toggledIndicators = _.reduce(\r\n        toGroupIndicator,\r\n        (result, indicat) => {\r\n          return {\r\n            ...result,\r\n            [indicat.id]: {\r\n              ...indicat,\r\n              selected: action.payload.selected,\r\n            },\r\n          }\r\n        },\r\n        {}\r\n      )\r\n      return {\r\n        ...state,\r\n        byId: {\r\n          ...state.byId,\r\n          ...toggledIndicators,\r\n        },\r\n        orderedBySelection: updetOrderedListBySelectedGroup(\r\n          state.orderedBySelection,\r\n          action.payload.selected,\r\n          toGroupIndicator\r\n        ),\r\n      }\r\n    }\r\n\r\n    /* Replace indicator selection with another */\r\n    case REPLACE_SELECTED_INDICATOR: {\r\n      const idx = _.indexOf(state.orderedBySelection, action.payload.replaceId)\r\n      const position = idx > -1 ? idx : state.orderedBySelection.length\r\n      return {\r\n        ...state,\r\n        byId: {\r\n          ...state.byId,\r\n          // deselect replaceId\r\n          [action.payload.replaceId]: {\r\n            ...state.byId[action.payload.replaceId],\r\n            selected: false,\r\n          },\r\n          // select\r\n          [action.payload.selectId]: {\r\n            ...state.byId[action.payload.selectId],\r\n            selected: true,\r\n          },\r\n        },\r\n        orderedBySelection: [\r\n          // Replace Id or put at the end\r\n          ..._.slice(state.orderedBySelection, 0, position),\r\n          action.payload.selectId,\r\n          ..._.slice(state.orderedBySelection, position + 1, state.orderedBySelection.length),\r\n        ],\r\n      }\r\n    }\r\n  }\r\n  return state\r\n}\r\n","import { DistrictAction } from './actions';\r\nimport { District, DistrictState } from './types';\r\nimport {\r\n  DISTRICT_HIDE,\r\n  DISTRICT_HIGHLIGHT,\r\n  DISTRICT_OFF_HOVER,\r\n  DISTRICT_ON_HOVER\r\n} from './constants';\r\n\r\nconst districtData = require('./../data/district.json');\r\nconst arrayToObjectById = (array: District[]) =>\r\n    array.reduce((obj, item) => {\r\n      obj[item.id] = item\r\n      return obj\r\n    }, {})\r\n\r\n/*\r\n * A reducer needs to be pure and side effect free\r\n * -> one solution is to implement a deep copy with the spread operator\r\n* */\r\n\r\nexport function district(\r\n    state: DistrictState = {byId: arrayToObjectById(districtData)},\r\n    action: DistrictAction\r\n): DistrictState {\r\n  switch (action.type) {\r\n    case DISTRICT_HIGHLIGHT:\r\n      return {\r\n        ...state,\r\n        byId: {\r\n          ...state.byId,\r\n          [action.payload.id]: {\r\n            ...state.byId[action.payload.id],\r\n            viewOptions: {\r\n              highlight: action.payload.highlight,\r\n              hover: state.byId[action.payload.id].viewOptions.hover\r\n            }\r\n          }\r\n        }\r\n\r\n      };\r\n\r\n    case DISTRICT_HIDE:\r\n      return {\r\n        ...state,\r\n        byId: {\r\n          ...state.byId,\r\n          [action.payload.id]: {\r\n            ...state.byId[action.payload.id],\r\n            viewOptions: {\r\n              highlight: action.payload.highlight,\r\n              hover: state.byId[action.payload.id].viewOptions.hover\r\n            }\r\n          }\r\n        }\r\n\r\n      };\r\n\r\n    case DISTRICT_OFF_HOVER:\r\n      return {\r\n        ...state,\r\n        byId: {\r\n          ...state.byId,\r\n          [action.payload.id]: {\r\n            ...state.byId[action.payload.id],\r\n            viewOptions: {\r\n              hover: action.payload.hover,\r\n              highlight: state.byId[action.payload.id].viewOptions.highlight\r\n            }\r\n          }\r\n        }\r\n\r\n      };\r\n    case DISTRICT_ON_HOVER:\r\n      return {\r\n        ...state,\r\n        byId: {\r\n          ...state.byId,\r\n          [action.payload.id]: {\r\n            ...state.byId[action.payload.id],\r\n            viewOptions: {\r\n              hover: action.payload.hover,\r\n              highlight: state.byId[action.payload.id].viewOptions.highlight\r\n            }\r\n          }\r\n        }\r\n\r\n      };\r\n  }\r\n  return state;\r\n}","export const OBSERVATION_UPDATE = 'observation/UPDATE';\r\nexport type OBSERVATION_UPDATE = typeof OBSERVATION_UPDATE;\r\n","import { ObservationAction } from './actions';\r\nimport { Observation, ObservationState } from './types';\r\nimport {  } from './constants';\r\n\r\nconst observationData = require('./../data/observation.json');\r\nconst arrayToObjectById = (array: Observation[]) =>\r\n  array.reduce((obj, item) => {\r\n    obj[item.id] = item\r\n    return obj\r\n  }, {})\r\n\r\n/*\r\n * A reducer needs to be pure and side effect free\r\n * -> one solution is to implement a deep copy with the spread operator\r\n* */\r\nexport function observation(\r\n  state: ObservationState = { byId: arrayToObjectById(observationData)},\r\n  action: ObservationAction\r\n): ObservationState {\r\n    switch (action.type) {\r\n\r\n    }\r\n    return state;\r\n}","import { UtilAction } from './actions';\r\nimport { Util } from './types';\r\nimport { TOGGLE_SELECT_INDICATOR_VISIBILITY, DISABLE_DISCLAIMER } from './constants';\r\n\r\nconst utilData = require('./../data/util.json');\r\n\r\n/*\r\n * A reducer needs to be pure and side effect free\r\n * -> one solution is to implement a deep copy with the spread operator\r\n* */\r\n\r\nexport function util(\r\n    state: Util = utilData,\r\n    action: UtilAction\r\n): Util {\r\n\r\n  switch (action.type) {\r\n    case TOGGLE_SELECT_INDICATOR_VISIBILITY : {\r\n      return {\r\n        ...state,\r\n        selectIndicatorConf: {\r\n          visible: action.payload.visible\r\n        }\r\n      }\r\n    }\r\n    case DISABLE_DISCLAIMER : {\r\n      return {\r\n        ...state,\r\n        showDisclaimer: action.payload.visible\r\n      }\r\n    }\r\n  }\r\n\r\n  return state;\r\n}","import { applyMiddleware, combineReducers, compose, createStore } from 'redux';\r\nimport { indicator } from './indicator/reducer';\r\nimport { district } from './district/reducer';\r\nimport { observation } from './observation/reducer';\r\nimport { IndicatorState } from './indicator/types';\r\nimport { DistrictState } from './district/types';\r\nimport { ObservationState } from './observation/types';\r\nimport { util } from './util/reducer';\r\nimport { Util } from './util/types';\r\n\r\ndeclare var window: Window & { devToolsExtension: any, __REDUX_DEVTOOLS_EXTENSION_COMPOSE__: any };\r\n\r\nexport type Rootstate = {\r\n  district: DistrictState,\r\n  indicator: IndicatorState,\r\n  observation: ObservationState,\r\n  util: Util,\r\n  // More reducer\r\n}\r\n\r\nconst rootReducer = combineReducers<Rootstate>({\r\n  district: district,\r\n  indicator: indicator,\r\n  observation: observation,\r\n  util: util\r\n});\r\n\r\n/* Plugin for chrome to see actions and how they effect changes in reducers */\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nexport const store = createStore(\r\n    rootReducer,\r\n    composeEnhancers(applyMiddleware(\r\n        // list middleware here\r\n\r\n    )),\r\n);\r\n","import createMuiTheme from '@material-ui/core/es/styles/createMuiTheme'\r\nimport { teal } from '@material-ui/core/es/colors'\r\n\r\nexport const theme = createMuiTheme({\r\n  palette: {\r\n    primary: teal,\r\n    secondary: teal,\r\n  },\r\n  overrides: {\r\n    MuiFormLabel: {\r\n      root: {\r\n        color: 'balck',\r\n      },\r\n    },\r\n    MuiFormControlLabel: {\r\n      label: {\r\n        fontSize: '12px !important',\r\n      },\r\n    },\r\n    MuiTooltip: {\r\n      tooltip: {\r\n        fontSize: '1rem',\r\n      },\r\n      tooltipPlacementTop: {\r\n        margin: '8px 0',\r\n        ['@media (min-width: 600px)']: {\r\n          margin: '7px 0',\r\n        },\r\n      },\r\n    },\r\n  },\r\n  typography: {\r\n    useNextVariants: true,\r\n  },\r\n})\r\n","import * as React from 'react'\r\nimport * as ReactDOM from 'react-dom'\r\nimport { HashRouter as Router } from 'react-router-dom'\r\nimport { Provider } from 'react-redux'\r\nimport MuiThemeProvider from '@material-ui/core/styles/MuiThemeProvider'\r\nimport App from './App'\r\nimport { store } from './state/index'\r\n// import registerServiceWorker from './registerServiceWorker'\r\nimport './index.css'\r\nimport { theme } from './theme/theme'\r\nimport 'babel-polyfill'\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <Router>\r\n      <MuiThemeProvider theme={theme}>\r\n        <App />\r\n      </MuiThemeProvider>\r\n    </Router>\r\n  </Provider>,\r\n  document.getElementById('root') as HTMLElement\r\n)\r\n"],"sourceRoot":""}